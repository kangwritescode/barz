(window.webpackJsonpbarz=window.webpackJsonpbarz||[]).push([[0],{165:function(e,t,n){e.exports=n.p+"static/media/vinyl.51a4597b.mov"},166:function(e,t,n){e.exports=n.p+"static/media/vinylIMG.95ea611d.png"},169:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAB2CAYAAAAwVUirAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIaSURBVHgB7ZrhbcIwEEYvTMAIGYER2ABGYIOyAekEZYPQCaATpBswQrIB3eDrWRgJtbF9Ti6NVN2TLCrM3bMdx+6PK2gAANb8seHmPktuS9/V+fbB7VIURUdasHTL7Qo5NbeSxuAScGswnAMNwYtbjKeeS5w/AIxb6hB7iXiHabghtQmRXm6XpHpOxH+vuZ2Qph4z62ts9H4QN8QHvgwFnyOBLQTvrh9AjF0o8JYd1J+nieSpFz0BbjmWkZwXkvMe6SsXPV/GxB2f118k55My5ZrEJkJ98tjMSoR2aeD3kb7ul9wva2wAO5KzifR1vd8mXrX0CUWis2IXCtwmAluMO2QQjHfPVRDc4j671VOMk9ZIE7/d+Ad7TEdJgufWQJ+KJED/n4kT5aA4gBMNwQ9Ack+HqGgsuO/uNkPawL8NaiB9VzvKVJ6CBuKyx/r5mE7mnvpWM7nJTW5yk5vc5CY3uclNbnKTm9zkJje5yU1ucpOb3OQmN7nJTW5yk5vc5Cb/N3KMrdweI2fONAc864OgRgakDed8gYyc8lSReCUUi8oUc8Q5lWFb0iRDXJEmnPBNKD6SJhDubL8yOcW4SbGk7OwhLkkL5G0wvWI73OtXpeKKNIGsaNYx2wa7kiZI1zc/aKG5wby8FcpL0iRj1ntS5HGfSw6I16IodDeZA+kbq6EpQbiav1V/zj1yd7gcf854cnHPINZ/Kp2Db8V65t1v7j8zAAAAAElFTkSuQmCC"},170:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAACHCAYAAAA850oKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATCSURBVHgB7d3tcRpJEMbxhlIAZHCTgcjAk8GRgcnAzkC6CE4ZuByB7yLQXgSyIhCOAF0EXDc7YF56BvDJLqD/v6oR8iJ/4lFPz+xqdyCxjMpIG9+vhunKgLqR62Qf9tjGcDi8XSwWY/keiir9OXvpBEvXEg774LMG4Z1+wFn6YCyVDxw/4JLDkXRMBoPB7/qa7QBBeFuXFg6rENPNQODnuZRwZA3EnbxBILS6zPTlVcfq1Xwrr51gbSDny6qETRvv5QdCUULQ6XiWPghfyysu2EgbyzsNxVzH4tih/+9Fx4OOiXxfmuKKWD/xckIgHnXcy4ElKi6b9RSPR4ZiLgQiBJtCPp1QJbLg+mkoPhzTVwihCGWkH/oXQoFd+VDDKYQinrI8PdRofhSEcnAa0Z/5JOxNhJMOTCNWLSaCcMatYEjfWyRBOOPWMlX6TSwElBvBYBoJLDf6CzsxlgQhtaYSghFYagTjSVimhtVarhKMwEYEA67Gzic9RmSNcyUEI7jc2MdIgrCqDaiwwRVb7bI+YUs8vGnjJBoCq00nNKDRNaaTqSC0ceMKLkTGdIKaKdMJXI2qgeBqVWMsiM2rGkITCqlXjSSIjaqBmkzVgMvbDRXOn0D6cyjsa8A1ZV8DLrsw2KkaD4LwEo0oVoY7//Yu8+PmrkFthWPQ31N8y2Kx+CwIb8SUgk2blSM778+EKSWsZjh0SukEYa3DoVPIO+f9vwXh0W9gz6pyeBfvsIQNrhoO7Te+CUJbhSM5730VhLYMh/YXt857nSC0Vs/xKght+QDAsjLZoj3HOT8cEL+AVY7kHJ8JwnPDUR67ieAsHNzxD65aOGaC8Grh+FcQXi0cLGOxd5kgsHajo9PVye7xThBJlv3reToB1L1361CmFVQRDhh3UUI4YAgHfNpj/OYcJhyoIhxYSs6xF67ZQPV6HioHqlcBEg7srVS0aiwvLiccyM6xZ/tCOIKr/OXBzL4QDiTnGH+zhOptvpZ9CJUjttrfSLNaiW44HHq3+fpn/b4gLA1Cdg53gvCa/YahcsS1d1vRcpuv9cXlhCMorRLvncPc5gvcqRp1D044ngSoPIVrKgiPZ/fBp0F45Nl98NQa0SyIzXt2H0/hguHZffBRNVAzpmrA5e1rUDVgplQNeBJVA65KE2pVYywIrTadsBsaXGs6SYK4vPMnNKGwPuOO6QSeiRcMphNYnzHnrCt21RrQ5f1EBWG1gvFFEJY9LPqp0WfwLJ2gDgUjCUJqBWMuBCOsao9RgsF5k6BawWDJGtikto9RKkYWxFPbEmcqiS3VTqJtrEoIRkCtaYTlalCj2hVcOzufbHBFoqH4cKBacK4koHygt1hNI1kQxjGhYBoJ5qhQlGXqR0EIx4ZidVkf1eLKpbKJNT8yFI9Cb3HVVoE4qkpsNJxTwdWx8j/RQPzZOjHW6Cvu5QynEB4AeLok/Za1VYfbcv/wJCcqdwv+rOMv2bhr8DkhHNtyGbYhtXwQr36I9hudpP/NTvI/lVD8IdyA/uLcnzglHDWkbzJtSXpRq48bwU9RKoTdS9ymjZlcIMLxRsrjNu1BNl0ZZ9lHnIJwnEhDMJP+g7cwPJfX9aOvrgnh2Nbph7/6/nVnzDa+D+E//LQcsO2uDkYAAAAASUVORK5CYII="},172:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAQdSURBVHhe7d1LiNVlHMbxiVHbqBV0Mxcm45Q5U1HSrpLKMqloVxtxEQkSUYF0ndEIF7WIIBcucmGtWgSChVJKLWpRdNFFS5XChVAYXQxpSrHvD87AOPyI6Zzz/s/7n+f5wgfB2+J9HxjOmTPnDDnnLm4JxvEQnsJr2IV38T4+wD7sx0c4gIP4uOOTjkNzdLjjVbgBtBgP4HV8hlO4MAAn4BpsHd7BSWQX0rSjcA30GL5AdgmDdASuYHejxouf5gEUaiHeRHboNfkOrs8tx+fIDrw2HkCfW4XjyA67Rt/C9anrEA+rsoOulQfQpxbhK2SHXDMPoE+9jeyAa+cB9KG7kB1uG3gAPXYJvkZ2uG3wDVwPPYrsYNvCA+ixT5EdbFt4AD00in+QHWxbeAA99CyyQ20TD6CHPkR2qG3iAXRZPPHzI7JDbRMPoMtG8DeyQ20TD6DL4pU92YG2jZ8I6rLHkR1o23wP10VbkR1oU35CvLbwCWxEvMA03J+Y/rOwYYYHcQdcFz2H7GKasBfXwA2wbcgup7TdcBX0ArILKim+Xg/DVdCLyC6ppCfhKullZJdU0m1wlfQKsksqaQyukiaQXVIp57AGrpImkV1UKfFt59VwlTSIAdwIV0lNDyC+8eQBVJQHIJ6/BIjX9KMAD6Cymn4ewI8CKqvpZwI9gMpq+nsB/hJQWc8ju6hS4lHADXCV9DSyiyplCvH+A67PxffXL5/likT8/mVY2vk1Xo6VXVQp57EJVyJeDXQtliFGEW9JMxfxd2eL/yd+wFW2O3F6hl/+Q/z5zx3ZJTXhV/yG3/FHx5n/afrfhXiPIOkXmdyH7KBVxFvYSXcPsoNR8R6kUx/ATkinPoAtkE59APEDItIpDyAeWt4C6ZQHEA8nr4Z0ygM4hgWQTnkA8s8BRMoDiM8ikk95AG9APuUBxKeTyac8gIchn/IAbod8qgP4E/F6APlUB/ADLoV8qgP4Eo5UBxCfRexIdQBvwdF6ZAc03z0DR/Fq33u7sAfZwZbyFx5BPHRb26N4c8h4pbProabfKPIsroKrpJeQXVQpMYDr4SrJAxDPAxDPAxDPAxDPAxDPAxDPAxDPAxDPAxDPAxDPAxDPAxDPAxDPAxDPAxDPAxCv6TeL9gAqywMQzwMQzwMQzwMQzwMQzwMQzwMQzwMQzwMQzwMQzwMQzwMQzwMQzwMQr+kPj/YAKssDEM8DEM8DEM8DEM8DEG8C2UWV4gFUlgcgngcgngcgngcgngcgngcgngcg3iSyiyrFA6gsD0A8D0C87cguqhQPoLI8APE8APE8APF2ILuoUjyAyvIAxPMAxPMAxPMAxPMAxNuJ7KJKmcJKuErajOyiSolPD18BV1GjuBU3YxxjHWtmuGmOZv6b2eL/HMEw5kFDQ/8Crqw/tFDTDCwAAAAASUVORK5CYII="},173:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACY0lEQVRoge3Xv2sUQRjG8Y/LEUIIQSQcQURE1CIEsRARUUghQSwEIVgoWNiqoIVFEAsLCwv/Bm0UxCIggp2xCVpZSBR/KyoqR4gSQghBEouZxeOy5u6SXExgvjDs7Mww87y777zvDIlEIpFIJBKJdcuGVVyrA70oI8MMKviAqaVOuhoGZNiMa9iPztg2i2l8w03cx+Qq6GmYDpzAPRzEa8wvUl7gJNr/h9gi9gmiR9GvvgHz+Ilzwl9qiNIyBHaiW/DfXfiMr7HvQOxvE9ylFJ/12Igrgnvdis8VpQ1bBZd4j9sYwBeMCIZciPWj+IgnOIK36v+BvHyP89alka+S04kzuIie+F7CXOwvYQvOR0Nr12lmrR6cbWRgM5P2YyhO3mahW2T+Cq8V3Mw6OQPYVm9QoxN3YVN8VosrEroUsUW0Y7DeoKJNXBK+5Cx+R0GDsa5A4JzWcQiPhX2XCTljTFW+qDagXYgevwRXGcUd9MWJRgoWqDVmuW5TS7+Qvbvi+xTe4DKe5YvkYe4Grgqpfi924rCQiGo3Zf7Vi0SulAuJwndETWVsFyLaQ5xGW0nYlGULN2Yz8Xu1KeMSnpeEeF3062s361qjF8cynLLQRViboqvJcDw/Kbbal1tFd34uL2I9GDCeCXG2lbG8VczhQYa7QoJYb7zCcCYkhEexcc7iMX6tUMF1jJWEPTCDYeH4MBUHTApXvoqQnWf+UZ+N9Ymq9qL6uHBLWw7Twr1jCE9ZeCfuiGVPXHhcOEpUYsnrP7A79n+K46fxLrbPCCm/ut63AgZM4GV8JhKJRCKRSCTWO38AE9+TzQRxbngAAAAASUVORK5CYII="},174:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEzElEQVRogdXa34tVVRQH8I+3y6BDDMMgYjbYJBYSIRkWEQZRkJJoYZI+hNBPKHqJnnrqDwgileihIogQ+kmZhllEvUQJSuWPstR+GDnEVCIy6nQbe1j7dI/XO3PPufdOjl/YnHP22Xuf9d177bXWXpwZ6ujHHViJIfSimiuVdJXus6KhrgjGU8k/5+uzUsuVUfyE7diJP/MDzsdGnMHZaV7OYHOSGTHzG3FqGghXtJxKJAbg3otk5putxPoKVqHHxYcerKpgwYWWpAMsqGJmGx3HMZbus/5jqb5HcWvUKXrzprEMhvEcNuF4qtuCp3CoO7IVQhX2K7+B/sDNWIgvU91iDGJ3G+O1Ww62uwIDWC5WYg9+xT7clEj8X6i2SwBWCO+4Fx+ncZYIcoeESm3B77k+W7FL7JfP8YG6CraDCvyofTs8iFtxJ+YJN38MSxORAdyX6s7iajyOv7Ahtdvb5vfP4miZ+KURPVgjZnKniJ9uxAv4Brel563YlvqM4ES6P5Gea21+HyqdmrvbxQTUhLCzk1D9WIdHcVpnajIpOlkBwgotTPfL03VMPXKtOD/y7CYqnRLoV48Kh9K1E5UojU4JNEOr2e7qikyFy68690DSiDFdJNGuD5gMVwoL86bwE5diTu79PjwtfMec83qXRKcEKmIfzM6NtQav4430fq3wFbBIeO5BYbVOdirDDOFk5rbZf0ycU0/gWvXI9ECqr+Ia9fDiO+GZh1LfUWHFetv8/nCnBDrR427sv+Gyy3dAeN2T+Nu52YSJMJGgzepnYbVQtcIEszilVfkMy4SaTNWBpSrC9I8KynSsKIGDYtNJBPqEdclK7ySkqqlNmdVeim+LECg66PfCehBh9ErnJ6FeybXJYwGeEGb1k4Lf+0qo66JWDYsSOK7ulG7AQ03a7NacwFw8gsOKE6iJILAliuryWO5+szi4vJrqn03P25r0y2OiyaroIBFQdAXyVmY4lZH0fFQs+Vqh69twnTi8vJPrdxkeE7Z/q8htDuFuXI4fUvsRJdCpJ84Tu184rF24R5jDXbn368Vmr4mV24En8YAwDCfTdVMZAbppDrMsduN9hrfwoAg9lqjP/i7cIrz5urIfLUpgsnZFvfGI+hFyptD7XqFSg2LTzi441n/IQt9W6AbRvOfOr9QyES/NE+mZUihKYCI0xvX5A1KzcbP21Vy7PXg+1Y2WFSA7sxZp1wqN40xErpHgL/hUnA3KJprHu7GJM0Fq6no91KTdLPXNXVNPEM8Uwj8srFcpFFWhIuZ2RAj+YRqzUR02iDCkhp/V05KrxcwvFE6xDMaLEsgi0Hzb3SJ1eCA9vy0c2dfCpl8hSI3iNREQXoUv8C5+wzMiTJmHl0Q8Rd07t0JNGrhV1LdfeNc8eoVNzz7UI1ShJxHpU88PDaT6/lx9Jmim+325sRcrlnI8TLH0+j8i77nU1J0FMkLX4/30zZZhfrahigy8QkSW7ykYKbaBHtwlSBSZqFpRAtRnZ3F7shVGmfisVlV+Nqcil9QuRis4cqGl6ABHKmJzjrVqOQ0xhu2XCHvcJ3R7OqnHZDiNl/FiVjFfHBUvhl8Ozojgb4hILWYYEL/brBKOZaLfbfJOqJvIJ8lquWv+d5sjQuV3SL/b/Ata+Ec5OsKAhgAAAABJRU5ErkJggg=="},175:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABmJLR0QA/wD/AP+gvaeTAAABk0lEQVRIia3WPWtUQRQG4AdNZJtE7P3AIoVNai0UBDtLiTFRBCMKEkWSoE2ihf4JwU4rwUIhEOxSKAT9C5pOLRQ/wEpNTDHn4rjuTXbu3gMXhvey52FmzrJLezWGR3iKEy32/afG8Rl/4vmFs20jwziI9QxqHZvCWxzGgVjn2G+cHxQZwftouI5D0s7e+X9nx5sip7AXR/CxD+xJE+QMfuIVdvWJPSxFJgLJL3rPDtgn6Q77rskAcmQxdjayDTZegkzVINXRrETWjY2WINPSmNYh33Es8uHAPmC+BLnQA1mqQeawJk1j0U4uFiJVPlOCXMJGQNOR3e5CjvZA7pYgMw2RpRLkckNksQS5hs1AJiK7U4PMZ/mtEgRW44P3dkAWsnyhFNknTdcPdDCbNfvWA9mUjq64zkWDZ1l2chvkZhMEHkeTK1nWqUFuNEV242s02d/1roMHGTLbFCF9u6tGpwO7iufSnVXvrg+CwH1/L34jW1c/w6vS6A9cb7qaf5H+n01K09hKDeFlrF9gGa+lo2q1tgAg5rtzx7GK8gAAAABJRU5ErkJggg=="},176:function(e,t,n){e.exports=n.p+"static/media/ig.9db2b88d.png"},177:function(e,t,n){e.exports=n.p+"static/media/undo.1b7690d8.png"},178:function(e,t,n){e.exports=n.p+"static/media/trash.aa4cd934.png"},180:function(e,t,n){e.exports=n.p+"static/media/vinyl2_IMG.97f1fd3a.png"},181:function(e,t,n){e.exports=n.p+"static/media/vinyl2.ca18fbdf.mp4"},182:function(e,t,n){e.exports=n.p+"static/media/joey.439b410b.m4v"},183:function(e,t,n){e.exports=n.p+"static/media/joeyIMG.fa1fa1a0.png"},184:function(e,t,n){e.exports=n.p+"static/media/splash-vid.251bb958.m4v"},185:function(e,t,n){e.exports=n.p+"static/media/pass-icon.384d4684.png"},186:function(e,t,n){e.exports=n.p+"static/media/ajiashi.3a9e66ee.png"},187:function(e,t,n){e.exports=n.p+"static/media/table.91ed4a02.png"},188:function(e,t,n){e.exports=n.p+"static/media/splash-img.eb9cb550.png"},190:function(e,t,n){e.exports=n(494)},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},202:function(e,t,n){},213:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},246:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},399:function(e,t,n){},400:function(e,t,n){},401:function(e,t,n){},402:function(e,t,n){e.exports=n.p+"static/media/nafla-blows.27db2613.m4v"},408:function(e,t,n){},409:function(e,t,n){},410:function(e,t,n){},411:function(e,t,n){},412:function(e,t,n){},413:function(e,t,n){},414:function(e,t,n){},415:function(e,t,n){},416:function(e,t,n){},417:function(e,t,n){},418:function(e,t,n){},419:function(e,t,n){},420:function(e,t,n){},421:function(e,t,n){},422:function(e,t,n){},423:function(e,t,n){},485:function(e,t,n){},486:function(e,t,n){},487:function(e,t,n){},488:function(e,t,n){},489:function(e,t,n){},490:function(e,t,n){},494:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(63),s=n.n(o),c=(n(195),n(6)),i=n(10),l=n(11),u=n(13),d=n(12),p=n(14),m=(n(196),n(197),n(16));var f=function(e){return r.a.createElement("div",{className:"ButtonContainer"},r.a.createElement(m.b,{to:e.dest},r.a.createElement("button",null,e.buttonTitle)))};n(202);var h=function(){return r.a.createElement("div",{className:"BarzLogo"},r.a.createElement(m.b,{to:"/"},r.a.createElement("button",null,"BARZ")))};var b=function(){return r.a.createElement("div",{className:"Navbar"},r.a.createElement(h,null),r.a.createElement(f,{buttonTitle:"HUB",dest:"/hub"}),r.a.createElement(f,{buttonTitle:"SCRIBBLE",dest:"/scribble"}),r.a.createElement(f,{buttonTitle:"JUDGE",dest:"/judge"}),r.a.createElement(f,{buttonTitle:"WORDSMITHS",dest:"/wordsmiths"}))},g=n(2),v=(n(17),n(7)),y=n(165),E=n.n(y),O=n(166),w=n.n(O),j=n(4),S=n.n(j);S.a.initializeApp({apiKey:"AIzaSyCAKcTP3ThSZwJtWIZ5BXCCubhMgq-eTpA",authDomain:"barz-86ae0.firebaseapp.com",databaseURL:"https://barz-86ae0.firebaseio.com",projectId:"barz-86ae0",storageBucket:"barz-86ae0.appspot.com",messagingSenderId:"607580458991",appId:"1:607580458991:web:3d68049c04b18cfe17f01a",measurementId:"G-EMWQ4CYWP0"});var N=S.a,A=N.firestore(),k=function(e){return function(t){A.collection("users/").doc(e).get().then(function(e){e.exists?t(D(e.data())):t(C())}).catch(function(e){t(C()),console.log("Error getting document:",e)})}},D=function(e){return{type:"SET_USER_DATA",data:e}},P=function(e,t,n){return function(a){A.collection("users").doc(e).update(t).then(function(){console.log("post user data update success"),n&&n(!1),console.log(t),a(D(t))}).catch(function(e){n&&n(!1),console.error("Error updating document: ",e)})}},C=function(){return{type:"LOG_OUT"}},I=function(e){return{type:"CHANGE_MUSIC_MURL",musicURL:e}},L=function(e){return{type:"CHANGE_VOLUME",volume:e}},x=n(19);n(213);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var M=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},t)},_=function(e){var t=e%10,n=e%100;return 1==t&&11!=n?"st":2==t&&12!=n?"nd":3==t&&13!=n?"rd":"th"},R=function(e){return Object.assign(new Error(e),{code:405})},T=function(){return"_"+Math.random().toString(36).substr(2,9)},B=n(3),J=n.n(B),V=n(9);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var W={allPostsListener:function(e,t){return S.a.firestore().collection("submissions").onSnapshot(function(n){var a=[];n.forEach(function(e){a.push(H({},e.data(),{pid:e.id}))}),e(a),t&&t(!0)},function(e){console.log(e.message),t&&t(!0)})},allVotesListener:function(e){return S.a.firestore().collection("postVotes").onSnapshot(function(t){var n;console.log("votes listener detected a change");var a=[];t.forEach(function(e){n=H({},e.data(),{vid:e.id}),a.push(n)}),e(a)})},allFollowsListener:function(e){return S.a.firestore().collection("follows").onSnapshot(function(t){var n=[];t.forEach(function(e){n.push(e.data())}),e(n)},function(e){return console.log(e)})},allSubmissionCommentsListener:function(e){return S.a.firestore().collection("postComments").onSnapshot(function(t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,c=t.docs[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var i=s.value;i=H({},i.data(),{cid:i.id}),n.push(i)}}catch(l){r=!0,o=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}e(n)},function(e){console.log(e)})},voteForUIDListener:function(e,t){return S.a.firestore().collection("postVotes").where("receiverID","==",t).onSnapshot(function(t){var n={};t.forEach(function(e){var t=e.data();1===t.value&&(n[t.pid]=n[t.pid]?n[t.pid]+1:1)}),e(n)})},userSortedPostsListener:function(e,t){return S.a.firestore().collection("submissions").where("uid","==",t).orderBy("createdOn","desc").onSnapshot(function(t){var n=[];t.forEach(function(e){n.push(H({pid:e.id},e.data()))}),e(n)},function(e){return console.log(e)})},votesForPostListener:function(e,t){return S.a.firestore().collection("postVotes").where("pid","==",t).onSnapshot(function(t){var n;console.log("votes listener detected a change");var a=[];t.forEach(function(e){n=H({},e.data(),{vid:e.id}),a.push(n)}),e(a)})},submissionCommentsForPostListener:function(e,t){return S.a.firestore().collection("postComments").where("pid","==",t).onSnapshot(function(t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,c=t.docs[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var i=s.value;i=H({},i.data(),{cid:i.id}),n.push(i)}}catch(l){r=!0,o=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}e(n)})},fetchSinglePost:function(e,t){S.a.firestore().collection("submissions").doc(t).get().then(function(t){e(H({},t.data(),{pid:t.id}))})},fetchPostsOnce:function(){var e=Object(V.a)(J.a.mark(function e(){var t;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.a.firestore(),e.abrupt("return",t.collection("submissions").get().then(function(e){var t=[];return e.forEach(function(e){t.push(H({},e.data(),{pid:e.id}))}),t}).catch(function(e){throw e}));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),fetchVotesOnce:function(){var e=Object(V.a)(J.a.mark(function e(){var t;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.a.firestore(),e.abrupt("return",t.collection("postVotes").get().then(function(e){var t=[];return e.forEach(function(e){t.push(e.data())}),t}).catch(function(e){throw e}));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},Q=Object(v.b)(function(e){return{myUID:e.user.uid}},null)(function(e){var t={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},n=Object(a.useState)([]),o=Object(g.a)(n,2),s=o[0],c=o[1],i=Object(a.useState)({}),l=Object(g.a)(i,2),u=l[0],d=l[1],p=Object(a.useState)([]),m=Object(g.a)(p,2),f=m[0],h=m[1],b=Object(a.useState)(!1),v=Object(g.a)(b,2),y=(v[0],v[1],Object(a.useState)(null)),E=Object(g.a)(y,2);E[0],E[1];Object(a.useEffect)(function(){if(e.myUID){var t=W.voteForUIDListener(d,e.myUID),n=W.userSortedPostsListener(c,e.myUID),a=W.allSubmissionCommentsListener(h);return function(){t(),n(),a()}}},[e.myUID]);var O="MyBars"===e.focused,w=O?"mybars-expanded":"mybars-compressed",j=O?"my-bars-header-compressed":"my-bars-header-expanded",S=O?"posts-container-opaque":"posts-container-transparent",N=function(e){for(var t=Object(x.a)(e),n=0,a=0,r=0;r<t.length;){var o=t[r].createdOn.toDate().getUTCFullYear(),s=t[r].createdOn.toDate().getUTCMonth()+1;o!==n&&(n=o),s!==a||s==a&&n!=o?(t.splice(r,0,[s,n]),a=s,r+=1):r+=1}return t}(s);return r.a.createElement("div",{className:"my-bars",id:w},r.a.createElement("div",{className:"my-bars-widget-header",id:j,onClick:O?null:e.toggle},"Manage"),r.a.createElement("div",{className:"posts-container",id:S},N.map(function(n){return"array"===typeof n||n instanceof Array?r.a.createElement("div",{id:"month-header",key:T()},t[n[0]]," ",n[1]):r.a.createElement("div",{className:"a-post",onClick:function(){return e.editPost(n.pid)},key:T()},r.a.createElement("div",{id:"likes-overlay"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-fire",id:"my-bars-flame"})),u[n.pid]>0?u[n.pid]:0,r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-comment",id:"my-bars-comment"})),function(e,t){return t.filter(function(t){return t.pid===e}).length}(n.pid,f)),r.a.createElement("p",null,'"'+n.content.lineOne+'..."'))})))});n(215);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var z=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={submission:{lineOne:"",lineTwo:"",lineThree:"",lineFour:""},inputData:{one:{id:"lineOne"},two:{id:"lineTwo"},three:{id:"lineThree"},four:{id:"lineFour"}},inputUniversalProps:{maxLength:"70",spellCheck:"false",autoCorrect:"false"},spinner:!1,notificationMessage:"default notification message",showNotification:!1,notificationStatus:!0},n.resetBars=function(){n.setState(G({},n.state,{inputData:G({},n.state.inputData),inputUniversalProps:G({},n.state.inputUniversalProps),submission:{lineOne:"",lineTwo:"",lineThree:"",lineFour:""}}))},n.toggleSpinner=function(e){n.setState(G({},n.state,{spinner:e}))},n.onChangeHandler=function(e,t){console.log("[Post.js] onChangeHandler"),n.setState(G({},n.state,{submission:G({},n.state.submission,Object(c.a)({},e,t.target.value.toLowerCase()))}))},n.arrowKeyHandler=function(e){return"Enter"===e.key&&e.preventDefault(),"Enter"===e.key&&("lineFour"!==e.target.id||"ArrowDown"===e.key&&"lineFour"!==e.target.id)?e.target.nextElementSibling.focus():"ArrowUp"===e.key&&"lineOne"!==e.target.id?e.target.previousElementSibling.focus():"ArrowDown"===e.key&&"lineFour"!==e.target.id?e.target.nextElementSibling.focus():void 0},n.createErr=function(e,t){return Object.assign(new Error(e),{code:t})},n.toggleNotification=function(e,t,a){n.setState(G({},n.state,{notificationMessage:e,showNotification:t,notificationStatus:a}))},n.checkPostsLeft=Object(V.a)(J.a.mark(function e(){var t;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.firestore(),e.abrupt("return",t.collection("submissions").where("uid","==",n.props.uid).get().then(function(e){var t=0;if(e.forEach(function(e){e.data().createdOn.toDate().toDateString()===(new Date).toDateString()&&(t+=1)}),t>=3)throw n.createErr("Daily Posting Limit Reached! (3)",402);return t}).catch(function(e){throw e}));case 2:case"end":return e.stop()}},e)})),n.postSubmission=function(){var e=Object(V.a)(J.a.mark(function e(t){var a;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=N.firestore(),e.abrupt("return",a.collection("submissions").add(G({},t)).then(function(){console.log("submission for ".concat(n.props.uid," successful!"))}).catch(function(e){console.error("Error writing document: ",e)}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.generateSubmission=function(){var e=G({},n.state.submission);for(var t in e)e[t]=n.trimInitialSpaces(e[t]);return{username:n.props.username,uid:n.props.uid,createdOn:new Date,gender:n.props.gender,content:e,address:n.props.address,photoURL:n.props.photoURL}},n.trimInitialSpaces=function(e){for(var t=0;t<e.length;){if(" "!==e.charAt(t))return e.slice(t,e.length);t+=1}return""},n.submit=function(){var e=Object(V.a)(J.a.mark(function e(t){var a,r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.generateSubmission(),e.prev=2,n.toggleSpinner(!0),n.props.uid){e.next=6;break}throw n.createErr("Log in to post!",405);case 6:if(!n.props.needsInfo){e.next=8;break}throw n.createErr("Set Profile Info in the HUB to post!",405);case 8:return e.next=10,n.checkPostsLeft();case 10:if(r=e.sent,n.state.submission.lineOne&&n.state.submission.lineTwo&&n.state.submission.lineThree&&n.state.submission.lineFour){e.next=13;break}throw n.createErr("A submission requires four bars!",408);case 13:return e.next=15,n.postSubmission(a);case 15:n.toggleSpinner(!1),n.toggleNotification("Post Successful! ".concat(2-r," ").concat(2-r===1?"post":"posts"," left today."),!0,!0),n.resetBars(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),n.toggleSpinner(!1),n.toggleNotification(e.t0.message,!0,!1);case 24:case"end":return e.stop()}},e,null,[[2,20]])}));return function(t){return e.apply(this,arguments)}}(),n.isFilledOut=function(){return n.state.submission.lineOne&&n.state.submission.lineTwo&&n.state.submission.lineThree&&n.state.submission.lineFour},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t="Post"===this.props.focused,n=t?"notepad-expanded":"notepad-compressed",a=t?"visible":"invisible",o=t?"header-compressed":"header-expanded",s=t?"four-lines-expanded":"four-lines-compressed",c=[];for(var i in this.state.inputData)c.push(this.state.inputData[i]);return r.a.createElement("div",{className:"the-notepad",id:n},r.a.createElement("div",{className:"post-widget-header",id:o,onClick:t?null:this.props.toggle},"Post"),r.a.createElement("form",{className:"four-lines",autoComplete:"new-password",id:s},this.state.showNotification?r.a.createElement("div",{className:"post-notification",id:this.state.notificationStatus?null:"negative-msg",onAnimationEnd:function(){return e.toggleNotification("",!1,!1)}},this.state.notificationMessage):null,c.map(function(t,n){return r.a.createElement("input",Object.assign({},e.state.inputUniversalProps,{autoComplete:"new-password",className:"input-line lines-expanded",type:"text",id:t.id,value:e.state.submission[t.id],onChange:function(n){return e.onChangeHandler(t.id,n)},key:n,onKeyDown:e.arrowKeyHandler,disabled:!e.props.loggedIn}))}),r.a.createElement("button",{className:"submit-post-button ".concat(this.isFilledOut()?"submit-post-button--valid":null),disabled:!(this.isFilledOut()&&!this.state.spinner),id:a,onClick:function(t){return e.submit(t)}},"Submit",this.state.spinner?r.a.createElement("div",{id:"my-post-spinner"}):null)))}}]),t}(a.Component),K=Object(v.b)(function(e){return{uid:e.user.uid,email:e.user.email,username:e.user.username,gender:e.user.gender,address:e.user.address,loggedIn:e.user.loggedIn,needsInfo:e.user.needsInfo,photoURL:e.user.photoURL}},null)(z),X=(n(216),n(217),n(43)),q=n.n(X),Z=(n(234),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).checkResponsetype=function(e){try{return"Word is required."===e||e.every(function(e){return"string"===typeof e})?"suggestions":"definitions"}catch(t){return"suggestions"}},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=null,n=this.props.dictJSON;n&&("suggestions"===this.checkResponsetype(n)?t=r.a.createElement("div",{id:"dict-sugg-modal-body"},r.a.createElement("i",{className:"fa fa-close",id:"close-dict-sugg-modal",onClick:function(){return e.props.toggleModal("showdictJSON",!1)}}),r.a.createElement("div",{id:"suggestions-wrapper"},r.a.createElement("div",{id:"sorry"},"Sorry fam, nothing for '",r.a.createElement("span",{id:"wrong-word"},this.props.theWord),"'."),r.a.createElement("div",{id:"dict-sugg-"}))):(n=n.filter(function(t){return t.meta.id.toLowerCase()===e.props.theWord.toLowerCase()||t.hom&&t.meta.id===e.props.theWord+":"+t.hom||"trademark"===t.fl}),t=r.a.createElement("div",{id:"dict-modal-body"},r.a.createElement("div",{className:"close-dict-modal-wrapper"},r.a.createElement("i",{className:"fa fa-close",id:"close-dict-modal",onClick:function(){return e.props.toggleModal("showdictJSON",!1)}})),r.a.createElement("div",{className:"toolkit-modal",id:"dict-modal-body-content"},r.a.createElement("div",{id:"word-title"},this.props.theWord),r.a.createElement("div",{id:"dict-line-divider"}),r.a.createElement("div",{id:"definitions-container"},n.map(function(e){return r.a.createElement("div",{key:T()},r.a.createElement("div",{id:"word-type"},e.fl),r.a.createElement("ol",{id:"definitions-list"},e.shortdef.map(function(e){return r.a.createElement("li",{id:"short-def",key:T()},e)})))}))))));return r.a.createElement("div",{className:"dict-modal-container"},r.a.createElement("div",{id:"dict-modal-backdrop",onClick:function(){return e.props.toggleModal("showdictJSON",!1)}}),t)}}]),t}(a.Component)),$=(n(235),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).checkResponsetype=function(e){try{return 0===e.length||e.every(function(e){return"string"===typeof e})?"suggestions":"definitions"}catch(t){return"suggestions"}},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=null,n=this.props.thesJSON;n&&("suggestions"===this.checkResponsetype(n)?t=r.a.createElement("div",{id:"thes-sugg-modal-body"},r.a.createElement("i",{className:"fa fa-close",id:"close-thes-sugg-modal",onClick:function(){return e.props.toggleModal("showthesJSON",!1)}}),r.a.createElement("div",{id:"suggestions-wrapper"},r.a.createElement("div",{id:"sorry"},"Sorry fam, nothing for '",r.a.createElement("span",{id:"wrong-word"},this.props.theWord),"'."))):(n=n.filter(function(t){return t.meta.id.toLowerCase()===e.props.theWord.toLowerCase()||t.hom&&t.meta.id===e.props.theWord+":"+t.hom}),t=r.a.createElement("div",{id:"thes-modal-body"},r.a.createElement("div",{id:"thes-close-wrapper"},r.a.createElement("i",{className:"fa fa-close",id:"close-thes-modal",onClick:function(){return e.props.toggleModal("showthesJSON",!1)}})),r.a.createElement("div",{className:"toolkit-modal",id:"thes-content"},r.a.createElement("div",{id:"word-title"},this.props.theWord),r.a.createElement("div",{id:"line-divider"}),n.map(function(e,t){return r.a.createElement("div",{id:"body-section-container",key:T()},r.a.createElement("div",{id:"thes-def"},r.a.createElement("i",{id:"thes-def-type"},e.fl,". "),e.shortdef.map(function(t,n){return n===e.shortdef.length-1?" ".concat(t):" ".concat(t,"; ")})),e.meta.syns.map(function(t,n){return r.a.createElement("div",{key:T()},r.a.createElement("div",{id:"a-syn-list"},t.map(function(e,n){return e+(n===t.length-1?null:", ")})),n===e.meta.syns.length-1?null:r.a.createElement("div",{id:"dotted-bottom"}))}),t===n.length-1?r.a.createElement("div",{id:"hacky-space-filler"}):r.a.createElement("div",{id:"type-divider"}))})))));return r.a.createElement("div",{className:"thes-modal-container"},r.a.createElement("div",{id:"thes-modal-backdrop",onClick:function(){return e.props.toggleModal("showthesJSON",!1)}}),t)}}]),t}(a.Component)),ee=n(168),te=n.n(ee),ne=(n(236),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).distribute=function(e){for(var t={one:[],two:[],three:[],four:[]};e.length>0;){if(t.one.push(e.pop().word),0===e.length)return t;if(t.two.push(e.pop().word),0===e.length)return t;if(t.three.push(e.pop().word),0===e.length)return t;t.four.push(e.pop().word)}return t},n.copyAndShowNotification=function(e){te()(e);var t=document.getElementsByClassName("notification"),n=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){o.value.classList.remove("show-copy-notification")}}catch(c){a=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}document.getElementById("".concat(e,"-notification")).classList.add("show-copy-notification")},n.removeShowNotificationClass=function(e){document.getElementById("".concat(e,"-notification")).classList.remove("show-copy-notification")},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=Object(x.a)(this.props.rhymeJSON),n=this.distribute(t),a=[];for(var o in n)a.push(r.a.createElement("div",{className:"column",id:"column-".concat(o),key:T()},n[o].map(function(t){return r.a.createElement("div",{className:"rhyme-word",id:t,onClick:function(){return e.copyAndShowNotification(t)},key:T()},r.a.createElement("div",{className:"notification",id:"".concat(t,"-notification"),onAnimationEnd:function(){return e.removeShowNotificationClass(t)}},r.a.createElement("div",{id:"notification-tail"}),"Copied to clipboard!"),t)})));var s=r.a.createElement("div",{id:"rhyme-sugg-modal-body"},r.a.createElement("i",{className:"fa fa-close",id:"close-rhyme-sugg-modal",onClick:function(){return e.props.toggleModal("showrhymeJSON",!1)}}),r.a.createElement("div",{id:"suggestions-wrapper"},r.a.createElement("div",{id:"sorry"},"Sorry fam, nothing for '",r.a.createElement("span",{id:"wrong-word"},this.props.theWord),"'.")));return 0!==this.props.rhymeJSON.length&&(s=r.a.createElement("div",{className:"rhyme-modal-container"},r.a.createElement("div",{id:"close-rhyme-modal-wrapper"},r.a.createElement("i",{className:"fa fa-close",id:"close-rhyme-modal",onClick:function(){return e.props.toggleModal("showrhymeJSON",!1)}})),r.a.createElement("div",{className:"toolkit-modal",id:"rhyme-modal-body"},r.a.createElement("div",{id:"word-title"},this.props.theWord),r.a.createElement("div",{id:"line-divider"}),r.a.createElement("div",{className:"columns-container"},a)))),r.a.createElement("div",{id:"rhyme-modal-wrapper"},r.a.createElement("div",{id:"rhyme-modal-backdrop",onClick:function(){return e.props.toggleModal("showrhymeJSON",!1)}}),r.a.createElement("div",{id:"body-content-wrapper"},s))}}]),t}(a.Component));function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var oe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={searchInput:"",dictJSON:null,thesJSON:null,rhymeJSON:null,showdictJSON:!1,showthesJSON:!1,showrhymeJSON:!1,spinner:!1},n.toggleSpinner=function(e){n.setState(re({},n.state,{spinner:e}))},n.onChangeHandler=function(e){n.setState(re({},n.state,{searchInput:e.target.value.toLowerCase()}))},n.fetchJSON=function(){var e=Object(V.a)(J.a.mark(function e(a,r,o){var s;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.preventDefault(),n.toggleSpinner(!0),s="",e.t0=a,e.next="dictJSON"===e.t0?6:"thesJSON"===e.t0?8:"rhymeJSON"===e.t0?10:12;break;case 6:return s="https://cors-anywhere.herokuapp.com/https://www.dictionaryapi.com/api/v3/references/collegiate/json/".concat(r,"?key=").concat(t.dictKEY),e.abrupt("break",13);case 8:return s="https://cors-anywhere.herokuapp.com/https://www.dictionaryapi.com/api/v3/references/thesaurus/json/".concat(r,"?key=").concat(t.thesKey),e.abrupt("break",13);case 10:return s="https://cors-anywhere.herokuapp.com/https://api.datamuse.com/words?rel_rhy=".concat(r),e.abrupt("break",13);case 12:return e.abrupt("break",13);case 13:q.a.get(s).then(function(e){var t;n.toggleSpinner(!1),n.setState(re({},n.state,(t={},Object(c.a)(t,a,e.data),Object(c.a)(t,"show"+a,!0),t)))}).catch(function(e){console.log(e),n.toggleSpinner(!1)});case 14:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),n.toggleModal=function(e,t){n.setState(re({},n.state,Object(c.a)({},e,t)))},n.inputNotEmptyLetters=function(){return n.state.searchInput&&/^[a-zA-Z]+$/.test(n.state.searchInput)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Toolkit"},this.state.spinner?r.a.createElement("div",{id:"my-search-spinner"}):null,this.state.showdictJSON?r.a.createElement(Z,{theWord:this.state.searchInput.toLowerCase(),dictJSON:this.state.dictJSON,toggleModal:this.toggleModal}):null,this.state.showthesJSON?r.a.createElement($,{theWord:this.state.searchInput.toLowerCase(),thesJSON:this.state.thesJSON,toggleModal:this.toggleModal}):null,this.state.showrhymeJSON?r.a.createElement(ne,{theWord:this.state.searchInput.toLowerCase(),rhymeJSON:this.state.rhymeJSON,toggleModal:this.toggleModal}):null,r.a.createElement("div",{className:"toolkit-header"},"Toolkit"),r.a.createElement("form",{id:"body"},r.a.createElement("input",{placeholder:"",value:this.state.searchInput,onChange:this.onChangeHandler,spellCheck:"false",autoCorrect:"off",autoComplete:"off",maxLength:"30"}),r.a.createElement("div",{id:"toolkit__button-wrapper"},r.a.createElement("button",{className:this.inputNotEmptyLetters()&&!this.state.spinner?"button":"disabled-button",id:"dict",disabled:!(this.inputNotEmptyLetters()&&!this.state.spinner),onClick:this.inputNotEmptyLetters()?function(t){return e.fetchJSON("dictJSON",e.state.searchInput.toLowerCase(),t)}:function(e){return e.preventDefault()}},"Dict"),r.a.createElement("button",{className:this.inputNotEmptyLetters()&&!this.state.spinner?"button":"disabled-button",id:"thes",disabled:!(this.inputNotEmptyLetters()&&!this.state.spinner),onClick:this.inputNotEmptyLetters()?function(t){return e.fetchJSON("thesJSON",e.state.searchInput.toLowerCase(),t)}:function(e){return e.preventDefault()}},"Thes"),r.a.createElement("button",{className:this.inputNotEmptyLetters()&&!this.state.spinner?"button":"disabled-button",id:"rhyme",disabled:!(this.inputNotEmptyLetters()&&!this.state.spinner),onClick:this.inputNotEmptyLetters()?function(t){return e.fetchJSON("rhymeJSON",e.state.searchInput.toLowerCase(),t)}:function(e){return e.preventDefault()}},"Rhyme"))))}}]),t}(a.Component);oe.dictKEY="a3e24913-4128-48ea-a608-b32992b47b18",oe.thesKey="4fee459c-2f1e-428d-8a92-e4bbf1e117c1";var se=oe,ce=n(169),ie=n.n(ce),le=n(170),ue=n.n(le),de=(n(237),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.customStyle),r.a.createElement("div",{className:"Slider"},r.a.createElement("input",{onChange:function(t){return e.props.changeVol(t.target.value)},value:this.props.volume,type:"range",style:this.props.customStyle}))}}]),t}(a.Component)),pe=Object(v.b)(function(e){return{volume:e.music.volume}},function(e){return{changeVol:function(t){return e(L(t))}}})(de);n(238);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var he=Object(v.b)(function(e){return{musicURL:e.music.musicURL,volume:e.music.volume,playing:e.music.playing,allStations:fe({},e.music.allStations),songPointer:e.music.songPointer}},function(e){return{playMusic:function(){return e({type:"PLAY_MUSIC"})},stopMusic:function(){return e({type:"STOP_MUSIC"})},changeURL:function(t){return e(I(t))},changeVol:function(t){return e(L(t))},setSongPointer:function(t){return e(function(e){return{type:"SET_SONG_POINTER",value:e}}(t))}}})(function(e){var t=Object(a.useState)(!0),n=Object(g.a)(t,2),o=n[0],s=n[1];Object(a.useEffect)(function(){return e.playing&&s(!1),function(){}},[]);var c=o?null:{animation:"none"};return r.a.createElement("div",{className:"turntable"},r.a.createElement("div",{id:"click-space",onClick:e.playing?e.stopMusic:function(){o||s(!0);var t=Object.values(e.allStations);e.changeURL(t[e.songPointer]),e.playMusic(),console.log(e.allStations),e.songPointer===t.length-1?e.setSongPointer(0):e.setSongPointer(e.songPointer+1)}}),r.a.createElement(pe,{customStyle:e.customStyle?e.customStyle.slider:null}),r.a.createElement("div",{id:"vinyl",style:e.customStyle?e.customStyle.vinyl:null},e.playing?r.a.createElement("h1",{className:"turntable__word-animation",style:c},function(e){switch(e){case 1:return"lofi";case 2:return"boombap";case 3:return"dilla";case 0:return"chillhop";default:return"error"}}(e.songPointer)):null,r.a.createElement("img",{alt:"",className:e.playing?"spinning":null,style:e.customStyle?e.customStyle.glare:null,id:"glare",src:ue.a}),r.a.createElement("div",{id:"inner-vinyl"}),r.a.createElement("div",{id:"dot"})),r.a.createElement("div",{className:"arm-container ".concat(e.playing?"record-play":"record-stop")},r.a.createElement("img",{alt:"",id:"arm",src:ie.a})),r.a.createElement("div",{id:"buttons-container"},r.a.createElement("div",{className:"button",id:"".concat(e.playing?null:"button-active")}),r.a.createElement("div",{className:"button",id:"".concat(e.playing?"button-active":null)})))});n(239),n(240);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ge=Object(v.b)(function(e){return{myUID:e.user.uid,myPhotoURL:e.user.photoURL}},null)(function(e){var t=Object(a.useState)([]),n=Object(g.a)(t,2),o=n[0],s=n[1];Object(a.useEffect)(function(){if(e.pid&&e.votes&&e.uid){var t=e.votes.filter(function(t){return t.voterID===e.myUID});return s(t),function(){}}},[e.pid,e.uid,e.votes,e.comments,e.photoURL]);var i=function(t){var n=S.a.firestore();if(0===o.length){var a={value:t,date:new Date,pid:e.pid,receiverID:e.uid,voterID:e.myUID,postDate:e.createdOn,address:e.address};n.collection("postVotes").add(a).catch(function(e){return console.log(e)})}else{var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},o[0],{value:t===o[0].value?0:t,date:new Date});if(n.collection("postVotes").doc(o[0].vid).set(r).catch(function(e){return console.log(e)}),o.length>1)for(var s=1;s<o.length;s++)n.collection("postVotes").doc(o[s].vid).delete().then(function(){return console.log("vote deleted successfully")}).catch(function(e){return console.log(e)})}},l=e.createdOn.toDate().toDateString(),u=l.slice(4,l.length),d=e.content.lineOne+" / "+e.content.lineTwo+" / "+e.content.lineThree+" / "+e.content.lineFour,p=e.votes.filter(function(t){return e.pid===t.pid&&1===t.value}),f={West:"yellow",East:"greeen",South:"blue",Midwest:"purple"}[e.address.region];return r.a.createElement("div",{className:"many-post scrollTo".concat(e.pid," ").concat(e.inEditor?"editor-style":null),id:"scrollTo".concat(e.pid),style:e.customStyle?e.customStyle.whole:null},r.a.createElement("header",{onClick:function(){return e.selectPost(e.pid)},style:e.customStyle?e.customStyle.header:null},r.a.createElement("div",{className:"many-post-details",id:e.pid},r.a.createElement(m.b,{style:{textDecoration:"none"},to:"/".concat(e.username,"/")},r.a.createElement("img",{className:"many-post-pic",src:e.uid===e.myUID?e.myPhotoURL:e.photoURL,alt:"pic"})),r.a.createElement("div",{className:"many-post-name-date-container"},r.a.createElement(m.b,{style:{textDecoration:"none"},to:"/".concat(e.username,"/")},r.a.createElement("h6",{style:e.customStyle?e.customStyle.username:null},e.username)),r.a.createElement("p",null,u))),r.a.createElement("div",{className:"many-post-region",id:f},e.address.region.toLowerCase()),r.a.createElement("div",{className:"many-post-misc"},r.a.createElement("i",{className:"fas fa-comment",id:"manyComment"}),e.comments.length,r.a.createElement("i",{className:"fas fa-fire",id:"manyFlame","aria-hidden":"true"}),p.length)),r.a.createElement("div",{className:"many-post-body",onClick:function(){return e.selectPost(e.pid)},style:e.customStyle?e.customStyle.midSection:null},r.a.createElement("p",{style:e.customStyle?e.customStyle.paragraph:null},'"'.concat(d,'"'))),r.a.createElement("div",{className:"vote-box"},r.a.createElement("button",{className:"vote-button dislike-button",onClick:function(){return i(-1)}},r.a.createElement("i",{className:"fa fa-trash",style:1===o.length&&-1===o[0].value?{color:"darkRed"}:null,"aria-hidden":"true"})),r.a.createElement("button",{className:"vote-button like-button",onClick:function(){return i(1)}},r.a.createElement("i",{className:"fas fa-fire",style:1===o.length&&1===o[0].value?{color:"orange"}:null}))))}),ve=(n(241),n(171)),ye=n.n(ve);n(246),n(247);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var we=Object(v.b)(function(e){return{myUID:e.user.uid}},null)(function(e){var t=Object(a.useState)(0),n=Object(g.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)(0),i=Object(g.a)(c,2),l=i[0],u=i[1],d=Object(a.useState)(0),p=Object(g.a)(d,2),m=p[0],f=p[1],h=Object(a.useState)(null),b=Object(g.a)(h,2),v=b[0],y=b[1];Object(a.useEffect)(function(){var e=null,t=null,n=document.getElementById("voter"),a=document.getElementById("vote-icon");return a.addEventListener("mouseover",function(){window.clearTimeout(t),e=window.setTimeout(function(){n.classList.add("show"),n.classList.remove("hide")},750)}),n.addEventListener("mouseover",function(){return window.clearTimeout(t)}),a.addEventListener("mouseout",function(){window.clearTimeout(e),t=window.setTimeout(function(){n.classList.remove("show"),n.classList.add("hide")},750)}),function(){}},[]),Object(a.useEffect)(function(){var t=S.a.firestore().collection("postVotes").where("pid","==",e.viewedPost.pid).onSnapshot(function(t){var n=0,a=0,r=[];t.docs.forEach(function(t){1===(t=Oe({},t.data(),{vid:t.id})).value&&(n+=1),-1===t.value&&(a+=1),t.voterID===e.myUID&&r.push(t)}),s(n-a<0?0:n-a),u(n),f(a),y(r.length>0?r:[])});return function(){t()}},[e.myUID,e.postSelected,e.viewedPost]);var E=function(t){var n=document.getElementById("voter");n.classList.remove("show"),n.classList.add("hide");var a=S.a.firestore();if(0===v.length){var r={value:t,date:new Date,pid:e.viewedPost.pid,receiverID:e.viewedPost.uid,voterID:e.myUID,postDate:e.viewedPost.createdOn,address:e.viewedPost.address};a.collection("postVotes").add(r).catch(function(e){return console.log(e)})}else{var o=Oe({},v[0],{value:t===v[0].value?0:t,date:new Date});if(a.collection("postVotes").doc(v[0].vid).set(o).catch(function(e){return console.log(e)}),v.length>1)for(var s=1;s<v.length;s++)a.collection("postVotes").doc(v[s].vid).delete().then(function(){return console.log("vote deleted successfully")}).catch(function(e){return console.log(e)})}},O=l>0?Math.floor(1*l/(l+1*m)*100):null;console.log(v);var w=v&&v[0]&&v[0].value?"lit":"",j=r.a.createElement("i",{className:"fa fa-".concat("fire"," vote-icon-container__","fire"," ",w),id:"icon"});return v&&v[0]&&-1===v[0].value&&(j=r.a.createElement("i",{className:"fa fa-".concat("trash"," vote-icon-container__","trash"," ",w),id:"icon"})),r.a.createElement("div",{className:"likes"},r.a.createElement("div",{className:"vote-icon-container",id:"vote-icon"},j,r.a.createElement("div",{className:"vote-icon-container-hover-div",onClick:v&&v[0]&&-1===v[0].value?function(){return E(-1)}:function(){return E(1)}}),r.a.createElement("div",{className:"vote-icon-container__pop-up-voter hide",id:"voter"},r.a.createElement("div",{className:"pop-up-voter__icon-wrapper left",onClick:function(){return E(-1)}},r.a.createElement("i",{className:"fa fa-trash lit-trash voter-icon","aria-hidden":"true"})),r.a.createElement("div",{className:"pop-up-voter__icon-wrapper right",onClick:function(){return E(1)}},r.a.createElement("i",{className:"fa fa-fire lit voter-icon","aria-hidden":"true"})))),r.a.createElement("div",{className:"total-score"},o," pt",1===o?null:"s",". ",O?"("+O+"%)":null),r.a.createElement("div",{className:"fans"},l," ",1===l?"like":"likes"))});n(249),n(250);var je=Object(v.b)(function(e){return{uid:e.user.uid,myPhotoURL:e.user.photoURL}},null)(function(e){var t=e.data;Object(a.useEffect)(function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}},[]);var n=function(e){var t=e.target.classList;if(t&&!t.contains("posted-comment__dots")&&!t.contains("posted-comment__dot")){var n=document.getElementsByClassName("delete-comment-drop-menu"),a=!0,r=!1,o=void 0;try{for(var s,c=n[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){s.value.classList.remove("delete-comment-drop-menu-show")}}catch(i){r=!0,o=i}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}}},o=null;return(e.uid===t.uid||e.viewedPost.uid===e.uid)&&(o=r.a.createElement("div",{className:"posted-comment__dots-container"},r.a.createElement("div",{className:"posted-comment__dots",onClick:function(e){return function(e,t){var n=document.getElementById(t);if(console.log(n),n.classList.contains("delete-comment-drop-menu-show"))n.classList.remove("delete-comment-drop-menu-show");else{var a=document.getElementsByClassName("delete-comment-drop-menu-show"),r=!0,o=!1,s=void 0;try{for(var c,i=a[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){c.value.classList.remove("delete-comment-drop-menu-show")}}catch(l){o=!0,s=l}finally{try{r||null==i.return||i.return()}finally{if(o)throw s}}n.classList.add("delete-comment-drop-menu-show")}}(0,t.cid)}},r.a.createElement("div",{className:"delete-comment-drop-menu",id:t.cid,onMouseLeave:function(e){n(e)}},r.a.createElement("div",{className:"delete-comment-drop-menu-item",id:"delete-post",onClick:function(){return e.toggleDeleteCommentModal(!0,t.cid)}},"Delete")),r.a.createElement("div",{className:"posted-comment__dot"}),r.a.createElement("div",{className:"posted-comment__dot"}),r.a.createElement("div",{className:"posted-comment__dot"})))),r.a.createElement("div",{className:"posted-comment",onMouseLeave:function(e){n(e)}},r.a.createElement("div",{className:"posted-comment__img-container"},r.a.createElement(m.b,{to:"/".concat(e.data.username,"/")},r.a.createElement("img",{alt:"",src:e.data.photoURL}))),r.a.createElement("div",{className:"posted-comment__content"},r.a.createElement(m.b,{style:{textDecoration:"none",color:"black"},to:"/".concat(e.data.username,"/")},r.a.createElement("b",null,t.username))," ",t.comment," ",r.a.createElement("br",null),r.a.createElement("div",{className:"posted-comment__content__date"},function(){var t=(new Date).getTime()-e.data.date.toDate().getTime(),n=Math.trunc(t/1e3/60);if(n<60)return Math.max(n,1)+"m";var a=Math.trunc(n/60);if(a<24)return a+"h";var r=Math.trunc(a/24);return r<7?r+"d":Math.trunc(r/7)+"w"}())),o)});var Se=function(e){var t=e.comments.filter(function(t){return t.pid===e.viewedPost.pid});t=t.sort(function(e,t){return e.date<t.date?-1:1});var n=r.a.createElement("div",null,r.a.createElement("div",{className:"filler-block"}),t.map(function(t,n){return r.a.createElement(je,{key:T(),viewedPost:e.viewedPost,index:n,noOfComments:e.comments.length,data:t,toggleDeleteCommentModal:e.toggleDeleteCommentModal})}));return r.a.createElement("div",{className:"post-comments"},n)},Ne=Object(v.b)(function(e){return{uid:e.user.uid,username:e.user.username,state:e.user.address.state,photoURL:e.user.photoURL,handles:e.user.handles,needsInfo:e.user.needsInfo}},null)(function(e){var t=Object(a.useState)(""),n=Object(g.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)(!1),i=Object(g.a)(c,2),l=i[0],u=i[1];Object(a.useEffect)(function(){s(""),document.getElementById("post-comment__text-area").focus()},[e.selectedPost,e.postSelected]);var d=e.postSelected?"expanded":null,p=e.postSelected?"hidden":null,m=null;return e.postSelected&&(m=r.a.createElement("div",{className:"comments-and-likes"},r.a.createElement(Se,{viewedPost:e.selectedPost,comments:e.comments,toggleDeleteCommentModal:e.toggleDeleteCommentModal}),r.a.createElement(we,{viewedPost:e.selectedPost}))),r.a.createElement("div",{className:"commenter-wrapper",style:e.customStyle?e.customStyle.wrapper:null},r.a.createElement("div",{className:"header",style:e.customStyle?e.customStyle.header:null}),r.a.createElement("div",{className:"commenter-body ".concat(d),style:e.customStyle?e.customStyle.body:null},r.a.createElement("h2",{className:"select-a-post ".concat(p),style:e.customStyle?e.customStyle.selectAPost:null},"Select a Post"),m,r.a.createElement("form",{className:"post-comment"},r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{alt:"",src:e.photoURL,className:"comment-user-img"})),r.a.createElement(ye.a,{id:"post-comment__text-area",disabled:!e.postSelected,placeholder:"Thoughts...",value:o,onChange:function(e){return s(e.target.value)},maxLength:"200",className:"comment-input",spellCheck:"false"}),r.a.createElement("button",{className:e.postSelected&&""!==o?null:"disabled",disabled:!(e.postSelected&&""!==o&&!l),onClick:function(t){t.preventDefault(),function(){if(console.log(e.needsInfo),e.needsInfo)return alert("Set Info in the HUB to comment!");u(!0),S.a.firestore().collection("postComments").add({comment:o,date:new Date,photoURL:e.photoURL,pid:e.selectedPost.pid,receiverUsername:e.selectedPost.username,receiverUID:e.selectedPost.uid,uid:e.uid,username:e.username}).then(function(){s(""),u(!1)}).catch(function(e){console.log(e.message),u(!1)})}()}},"Post"))))});n(251);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ke=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={spinner:!1},n.toggleSpinner=function(e){n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n.state,{spinner:e}))},n.deleteComment=function(){n.toggleSpinner(!0),N.firestore().collection("postComments").doc(n.props.cid).delete().then(function(){n.toggleSpinner(!1),n.props.toggleDeleteCommentModal(!1,null)}).catch(function(e){console.log(e)})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"delete-comment-wrapper"},r.a.createElement("div",{id:"delete-comment-backdrop",onClick:function(){return e.props.toggleDeleteCommentModal(!1,null)}}),r.a.createElement("div",{id:"delete-comment-body"},this.state.spinner?r.a.createElement("div",{id:"delete-comment-spinner"}):null,r.a.createElement("i",{className:"fa fa-close",id:"close-delete-comment-x",onClick:function(){return e.props.toggleDeleteCommentModal(!1,null)}}),r.a.createElement("div",{id:"delete-comment-header"},"Delete Comment?"),r.a.createElement("div",{id:"delete-comment-question"},"This cannot be reversed."),r.a.createElement("div",{id:"delete-comment-button-container"},r.a.createElement("div",{className:"delete-comment-button",id:"cancel-button",onClick:function(){return e.props.toggleDeleteCommentModal(!1,null)}},"Cancel"),r.a.createElement("div",{className:"delete-comment-button",id:"delete-button",onClick:function(){return e.deleteComment(e.props.cid)}},"Delete"))))}}]),t}(a.Component),De=(n(252),Object(v.b)(null,null)(function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),o=n[0],s=n[1],c=function(){var t=Object(V.a)(J.a.mark(function t(n){var a;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),a=N.firestore(),t.next=4,a.collection("postVotes").where("pid","==",n).get().then(function(e){e.forEach(function(e){e.ref.delete().catch(function(e){return console.log(e.message)})})}).catch(function(e){s(!1)});case 4:return t.next=6,a.collection("postComments").where("pid","==",n).get().then(function(e){e.forEach(function(e){e.ref.delete().catch(function(e){return console.log(e.message)})})}).catch(function(e){s(!1)});case 6:return t.next=8,a.collection("submissions").doc(n).delete().catch(function(e){s(!1)});case 8:e.toggleEditor(null);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"delete-post-wrapper"},r.a.createElement("div",{id:"delete-post-backdrop",onClick:function(){return e.toggle(null)}}),r.a.createElement("div",{id:"delete-post-body"},o?r.a.createElement("div",{id:"delete-post-spinner"}):null,r.a.createElement("i",{className:"fa fa-close",id:"close-delete-post-x",onClick:function(){return e.toggle(null)}}),r.a.createElement("div",{id:"delete-post-header"},"Delete Post?"),r.a.createElement("div",{id:"delete-post-question"},"This cannot be reversed."),r.a.createElement("div",{id:"delete-post-button-container"},r.a.createElement("div",{className:"delete-post-button",id:"cancel-button",onClick:function(){return e.toggle(null)}},"Cancel"),r.a.createElement("div",{className:"delete-post-button",id:"delete-button",onClick:e.pid?function(){return c(e.pid)}:null},"Delete"))))}));n(253);var Pe=function(e){return r.a.createElement("div",{className:"circular-spinner",style:e.customStyle?e.customStyle:null})},Ce=Object(v.b)(function(e){return{}},function(e){return{}})(function(e){var t=Object(a.useState)([]),n=Object(g.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)([]),i=Object(g.a)(c,2),l=i[0],u=i[1],d=Object(a.useState)(null),p=Object(g.a)(d,2),m=p[0],f=p[1],h=Object(a.useState)(null),b=Object(g.a)(h,2),v=b[0],y=b[1],E=Object(a.useState)(null),O=Object(g.a)(E,2),w=O[0],j=O[1];Object(a.useEffect)(function(){W.fetchSinglePost(f,e.pid);var t=W.allSubmissionCommentsListener(s),n=W.allVotesListener(u,e.pid);return function(){t(),n()}},[e.pid]);var S=r.a.createElement(Pe,{customStyle:{zIndex:"110"}});if(m){S=r.a.createElement("div",{className:"editor-layout__content-container"},r.a.createElement(ge,Object.assign({inEditor:!0,comments:o.filter(function(t){return t.pid===e.pid}),selectPost:function(){return null},votes:l.filter(function(t){return t.pid===e.pid}),customStyle:{paragraph:{width:"20em"},midSection:{cursor:"default"},header:{cursor:"default"}}},m)),r.a.createElement("div",{className:"content-container__edit-comment-container"},r.a.createElement("div",{className:"edit-comment-container__edit",onClick:e.pid?function(){return j(e.pid)}:null},r.a.createElement("div",{className:"edit__header"},r.a.createElement("div",null,"Options"))),r.a.createElement(Ne,{toggleDeleteCommentModal:function(e,t){return y(t)},customStyle:{body:{height:"18.5em",backgroundColor:"rgba(255, 255, 255, 0.95)"},header:{backgroundColor:"rgba(255, 255, 255, 0.95)"}},selectedPost:m,postSelected:m,comments:o})))}return r.a.createElement("div",{className:"editor-layout"},v?r.a.createElement(ke,{cid:v,toggleDeleteCommentModal:function(){return y(!1)}}):null,w?r.a.createElement(De,{pid:w,toggle:j,toggleEditor:e.toggleEditor}):null,r.a.createElement("div",{className:"editor-backdrop",onClick:function(){return e.toggleEditor(null)}}),S)});n(254);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var xe=Object(v.b)(function(e){return{musicURL:e.music.musicURL,volume:e.music.volume,playing:e.music.playing,scribbleUI:e.ui.scribble,allStations:Le({},e.music.allStations)}},function(e){return{playMusic:function(){return e({type:"PLAY_MUSIC"})},stopMusic:function(){return e({type:"STOP_MUSIC"})},changeURL:function(t){return e(I(t))},changeVol:function(t){return e(L(t))},setScribbleUI:function(t){return e(function(e){return{type:"SET_SCRIBBLE_UI",scribbleUI:e}}(t))}}})(function(e){var t=Object(a.useState)(e.scribbleUI.focus),n=Object(g.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)(null),i=Object(g.a)(c,2),l=(i[0],i[1],Object(a.useState)(null)),u=Object(g.a)(l,2),d=u[0],p=u[1],m=function(){return"Post"===o?e.setScribbleUI({focus:"MyBars"}):e.setScribbleUI({focus:"Post"})};return Object(a.useEffect)(function(){return function(){}},[]),Object(a.useEffect)(function(){return s(e.scribbleUI.focus),function(){}},[e.scribbleUI]),r.a.createElement("div",{className:"Scribble"},r.a.createElement("img",{id:"backup-img",src:w.a,alt:""}),r.a.createElement("video",{src:E.a,autoPlay:!0,loop:!0,playsInline:!0,muted:!0}),r.a.createElement("div",{id:"scribbleOverlay"}),d?r.a.createElement(Ce,{pid:d,toggleEditor:p}):null,r.a.createElement("div",{className:"row-one"},r.a.createElement(Q,{focused:o,toggle:m,editPost:function(e){p(e)}}),r.a.createElement(K,{focused:o,toggle:m}),r.a.createElement("div",null)),r.a.createElement("div",{className:"row-two"},r.a.createElement(se,null),r.a.createElement("div",{className:"scribble-turntable-wrapper"},r.a.createElement(he,null))))}),Ue=n(95),Me=n.n(Ue),_e=n(96),Re=n.n(_e),Te=n(97),Be=n.n(Te),Je=n(172),Ve=n.n(Je),Fe=n(173),He=n.n(Fe),We=n(174),Qe=n.n(We),Ye=n(175),Ge=n.n(Ye),ze=n(176),Ke=n.n(ze),Xe=n(177),qe=n.n(Xe);n(390),n(391);function Ze(e){return r.a.createElement("div",{className:"dot-spinner",id:e.id,style:e.customStyle})}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tt=Object(v.b)(function(e){return{uid:e.user.uid,handles:e.user.handles}},function(e){return{updateProfile:function(t,n,a){return e(P(t,n,a))}}})(function(e){var t=Object(a.useState)({fb:"",ig:"",sc:"",yt:""}),n=Object(g.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)({fb:"",ig:"",sc:"",yt:""}),l=Object(g.a)(i,2),u=l[0],d=l[1],p=Object(a.useState)(!1),m=Object(g.a)(p,2),f=m[0],h=m[1];Object(a.useEffect)(function(){return s({fb:e.handles.facebook,ig:e.handles.instagram,sc:e.handles.soundcloud,yt:e.handles.youtube}),d({fb:e.handles.facebook,ig:e.handles.instagram,sc:e.handles.soundcloud,yt:e.handles.youtube}),function(){}},[]);var b=function(){var t=Object(V.a)(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,e.updateProfile(e.uid,{handles:{facebook:o.fb,instagram:o.ig,soundcloud:o.sc,youtube:o.yt}},h);case 4:d({fb:o.fb,ig:o.ig,sc:o.sc,yt:o.yt}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message),h(!1);case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),v=[{url:Ve.a,input:o.fb,propsValue:e.handles.facebook,handleName:"fb",className:"fab fa-facebook-f",color:e.handles.facebook?"blue":null},{url:Ke.a,input:o.ig,propsValue:e.handles.instagram,handleName:"ig",className:"fab fa-instagram",color:e.handles.instagram?"purple":null},{url:He.a,input:o.sc,propsValue:e.handles.soundcloud,handleName:"sc",className:"fab fa-soundcloud",color:e.handles.soundcloud?"orange":null},{url:Qe.a,input:o.yt,propsValue:e.handles.youtube,handleName:"yt",className:"fab fa-youtube",color:e.handles.youtube?"red":null}].map(function(e){return r.a.createElement("div",{className:"handle-wrapper "},r.a.createElement("div",{className:"icon-holder"},r.a.createElement("i",{className:"".concat(e.className," ").concat(e.color)})),r.a.createElement("input",{className:"handle-input ".concat(e.input!==e.propsValue?"staged":null),spellCheck:"false",value:e.input,onChange:function(t){return s(et({},o,Object(c.a)({},e.handleName,t.target.value)))},placeholder:"-insert link-"}),r.a.createElement("img",{alt:"",id:"pencil",src:Ge.a}),r.a.createElement("img",{alt:"",className:"".concat(e.input!==e.propsValue?"undo-staged":"undo"),src:qe.a,onClick:function(){return function(e){switch(e){case"fb":return s(et({},o,{fb:u.fb}));case"ig":return s(et({},o,{ig:u.ig}));case"sc":return s(et({},o,{sc:u.sc}));case"yt":return s(et({},o,{yt:u.yt}))}}(e.handleName)}}))});return r.a.createElement("div",null,r.a.createElement("div",{className:"ul-img-backdrop",onClick:function(){return e.toggleUploadHandles(!1)}}),r.a.createElement("div",{className:"add-handles-modal"},!!f&&r.a.createElement(Ze,{customStyle:{position:"absolute",zIndex:"999",bottom:"-4em",left:"6em"}}),r.a.createElement("i",{className:"fa fa-close close-add-handles",onClick:function(){return e.toggleUploadHandles(!1)}}),r.a.createElement("h1",{id:"handles-header"},"My Media"),v,r.a.createElement("div",{className:o.fb!==e.handles.facebook||o.ig!==e.handles.instagram||o.sc!==e.handles.soundcloud||o.yt!==e.handles.youtube?"button-staged":"confirm-handles",onClick:b},"Update")))}),nt=(n(392),n(178)),at=n.n(nt);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var st=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={password:"",spinning:!0,FBtoken:null,authType:""},n.componentDidMount=function(){"password"===S.a.auth().currentUser.providerData[0].providerId?n.setAuthType("password",null):n.setAuthType("facebook")},n.setAuthType=function(e){n.setState(ot({},n.state,{authType:e}))},n.setSpinner=function(e){n.setState(ot({},n.state,{spinning:e}))},n.onInputHandler=function(e){n.setState(ot({},n.state,{password:e.target.value}))},n.deleteAccount=Object(V.a)(J.a.mark(function e(){var t,a,r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.a.auth().currentUser,a=null,e.prev=2,"password"!==n.state.authType){e.next=7;break}a=S.a.auth.EmailAuthProvider.credential(t.email,n.state.password),e.next=15;break;case 7:if("password"===n.state.authType){e.next=14;break}if("goodbye"===n.state.password){e.next=10;break}throw R("Please type 'goodbye' to confirm deletion.");case 10:r=localStorage.getItem("token"),a=S.a.auth.FacebookAuthProvider.credential(r),e.next=15;break;case 14:throw R("Facebook Auth token has expired. Log out and back in to delete account.");case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(2),console.log(e.t0.message),n.setSpinner(!1),e.abrupt("return");case 22:t.reauthenticateWithCredential(a).then(Object(V.a)(J.a.mark(function e(){var t,a,r,o;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.a.firestore(),e.next=3,t.collection("submissions").get().then(function(e){e.forEach(function(e){e.data().uid===n.props.uid&&e.ref.delete()})}).catch(function(e){throw e});case 3:return e.next=5,t.collection("follows").get().then(function(e){e.forEach(function(e){var t=e.data();t.from!==n.props.uid&&t.to!==n.props.uid||e.ref.delete()})}).catch(function(e){throw e});case 5:return e.next=7,t.collection("postVotes").get().then(function(e){e.forEach(function(e){var t=e.data();t.receiverID!==n.props.uid&&t.voterID!==n.props.uid||e.ref.delete()})}).catch(function(e){throw e});case 7:return e.next=9,t.collection("postComments").get().then(function(e){e.forEach(function(e){var t=e.data();t.uid!==n.props.uid&&t.receiverUID!==n.props.uid||e.ref.delete()})}).catch(function(e){throw e});case 9:return a=S.a.storage(),r=a.ref(),o=r.child("images/".concat(n.props.uid,"/userIMG.png")),e.next=14,o.delete().then(function(){return console.log("profile image deleted successfully")}).catch(function(e){throw e});case 14:return e.next=16,t.collection("users").doc("".concat(n.props.uid)).delete().then(function(){console.log("user deleted successfully")}).catch(function(e){throw e});case 16:return e.next=18,S.a.auth().currentUser.delete().then(function(e){return console.log("ACCOUNT WAS DELETED!!!!!")}).catch(function(e){throw e});case 18:n.props.logout();case 19:case"end":return e.stop()}},e)}))).catch(function(e){return console.log(e.message)});case 23:case"end":return e.stop()}},e,null,[[2,17]])})),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this;return e="facebook"===this.state.authType?"Type 'goodbye' to confirm.":"All user data will be deleted forever.",r.a.createElement("div",null,r.a.createElement("div",{className:"delete-backdrop",onClick:function(){return t.props.toggleDeleteAcc(!1)}}),r.a.createElement("div",{id:"delete-account-modal"},r.a.createElement("i",{className:"fa fa-close",id:"exit-delete-modal",onClick:function(){return t.props.toggleDeleteAcc(!1)}}),r.a.createElement("img",{id:"delete-icon",src:at.a,alt:""}),r.a.createElement("div",{id:"are-you-sure"},"Delete Account"),r.a.createElement("div",{id:"will-be-deleted"},e),r.a.createElement("input",{type:"password",id:"delete-pass-input",placeholder:"facebook"===this.state.authType?"":"password",onChange:this.onInputHandler}),r.a.createElement("div",{id:"delete-buttons"},r.a.createElement("div",{className:"delete-button",id:"cancel",onClick:function(){return t.props.toggleDeleteAcc(!1)}},"Cancel"),r.a.createElement("div",{className:"delete-button",id:""===this.state.password?"delete-disabled":"delete",onClick:""===this.state.password?null:this.deleteAccount},"Delete"))))}}]),t}(a.Component),ct=Object(v.b)(function(e){return{uid:e.user.uid}},function(e){return{logout:function(){return e(C())}}})(st),it=(n(393),n(394),Object(v.b)(function(e){return{myUID:e.user.uid}},function(e){return{}})(function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),o=n[0],s=n[1];Object(a.useEffect)(function(){return function(){}},[]),Object(a.useEffect)(function(){return s(function(){return 0!==e.follows.filter(function(t){return t.to===e.user.uid&&t.from===e.myUID}).length}),function(){}},[e.follows,e.myUID,e.user.uid]);return r.a.createElement("div",{className:"follow-item"},r.a.createElement("div",{className:"follow-item__profile"},r.a.createElement(m.b,{style:{color:"lightgrey",textDecoration:"none"},to:"/".concat(e.user.username,"/")},r.a.createElement("img",{className:"profile__photo",alt:"",src:e.user.photoURL})),r.a.createElement("div",{className:"profile__details-container"},r.a.createElement("div",{className:"details-container__name"},r.a.createElement(m.b,{style:{color:"lightgrey",textDecoration:"none"},to:"/".concat(e.user.username,"/")},e.user.username)),r.a.createElement("div",{className:"details-container__details"},e.user.address.city,", ",e.user.address.state," | ","Male"===e.user.gender?"M":"F"))),r.a.createElement("button",{className:"follow-item__follow-button",onClick:o?function(){var t=S.a.firestore();console.log(e.uid,e.user),t.collection("follows").where("from","==",e.myUID).where("to","==",e.user.uid).get().then(function(e){e.forEach(function(e){e.ref.delete()})}).catch(function(e){return console.log(e)})}:function(){S.a.firestore().collection("follows").add({from:e.myUID,to:e.user.uid}).then(function(){return console.log("follow set successfully")}).catch(function(e){return console.log(e.message)})}},o?"following":"follow"))}));function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ut=Object(v.b)(function(e){return{uid:e.user.uid}},function(e){return{}})(function(e){var t=Object(a.useState)([]),n=Object(g.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)(0),l=Object(g.a)(i,2),u=l[0],d=l[1],p=Object(a.useState)(0),m=Object(g.a)(p,2),f=m[0],h=m[1],b=Object(a.useState)([]),v=Object(g.a)(b,2),y=v[0],E=v[1],O=Object(a.useState)(""),w=Object(g.a)(O,2),j=w[0],N=w[1];Object(a.useEffect)(function(){return function(){}},[]),Object(a.useEffect)(function(){var t=e.paramsUser?e.paramsUser:e;if(e.follows){var n=0,a=0,r=[];e.follows.forEach(function(e){e.from===t.uid&&(a+=1),e.to===t.uid&&(n+=1),r.push(e)}),d(n),h(a),s(e.follows)}},[e.uid,u,f,e.follows,e.paramsUser,e]),Object(a.useEffect)(function(){return N(""),function(){}},[e.paramsUser]),Object(a.useEffect)(function(){j&&S.a.firestore().collection("users").get().then(function(e){var t=[];e.forEach(function(e){t.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.data()))}),E(t)});return function(){}},[j]);var A=e.paramsUser?e.paramsUser:e,k=function(e,t){return e.filter(function(e){return!!t.includes(e.uid)})},D=j?"follow-box__expanded":"follow-box__compressed",P="followers"===j?"focused":null,C="following"===j?"focused":null,I=null;"following"===j?I="under-following":"followers"===j&&(I="under-followers");var L,x=function(e){var t=[];return e.forEach(function(e){e.from===A.uid&&t.push(e.to)}),t}(o),U=function(e){var t=[];return e.forEach(function(e){e.to===A.uid&&t.push(e.from)}),t}(o),M=k(y,x),_=k(y,U);return"following"===j?L=M.map(function(e){return r.a.createElement(it,{follows:o,user:e})}):"followers"===j&&(L=_.map(function(e){return r.a.createElement(it,{follows:o,user:e})})),r.a.createElement("div",{className:"follow-box"},r.a.createElement("div",{className:"follow-box__header ".concat(j?"follow-box_header-filled":"follow-box_header-unfilled")},r.a.createElement("div",{className:"header__section ".concat(P),onClick:function(){return N("followers"===j?"":"followers")}},u," ","follower"+(1!==u?"s":""),r.a.createElement("div",{className:"focused-bar ".concat(I)})),r.a.createElement("div",{className:"header__section ".concat(C),onClick:function(){return N("following"===j?"":"following")}},f," following")),r.a.createElement("div",{className:"follow-box_body ".concat(D)},L))}),dt=(n(395),n(396),n(397),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"WordNavItemContainer"},r.a.createElement("div",{className:"WordNavItem ".concat(this.props.type)},this.props.display,r.a.createElement("div",{className:"arrow down"})),r.a.createElement("div",{className:"dropdown",id:"".concat(this.props.type)},this.props.dropItems.map(function(t){return r.a.createElement("div",{key:t,className:"item",onClick:function(){return e.props.sortAndFilter(e.props.type,t)}},t)})))}}]),t}(a.Component)),pt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentDidUpdate=function(e,t){n.props.needsInfo?document.removeEventListener("click",n.toggleDropdown):n.props.needsInfo||document.addEventListener("click",n.toggleDropdown)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.toggleDropdown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.toggleDropdown)}},{key:"toggleDropdown",value:function(e){var t=document.getElementById("feed");t&&(e.target.classList.contains("feed")?t.classList.toggle("show"):t.classList.remove("show"))}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"HubNavBarSectionContainer"},r.a.createElement("div",{className:"SortContainer"},r.a.createElement("p",{id:"sort"},"Feed:"),r.a.createElement(dt,{dropItems:["Personal","Following"],type:"feed",display:this.props.feed,sortAndFilter:this.props.sortAndFilter})));return console.log(this.props.isLoading),(this.props.needsInfo||this.props.paramsUser||this.props.isLoading)&&(e=null),r.a.createElement("div",{className:"HubNavBar"},e)}}]),t}(a.Component),mt=Object(v.b)(function(e){return{needsInfo:e.user.needsInfo}},null)(pt),ft=function(e,t){var n={};e.forEach(function(e){e.receiverID in n?n[e.receiverID]=n[e.receiverID]+e.value:n[e.receiverID]=e.value});var a,r=[];for(var o in n){var s={uid:o,score:n[o]};r.push(s)}return(r=r.sort(function(e,t){return e.score>t.score?-1:1})).forEach(function(e,n){e.uid===t&&(a=n+1)}),a||r.length+1},ht=(n(398),{CA:"West",NV:"West",OR:"West",ID:"West",MT:"West",WY:"West",UT:"West",CO:"West",AZ:"West",NM:"West",WA:"West",ND:"Midwest",SD:"Midwest",NE:"Midwest",KS:"Midwest",MN:"Midwest",IA:"Midwest",MO:"Midwest",WI:"Midwest",IL:"Midwest",IN:"Midwest",MI:"Midwest",OH:"Midwest",PA:"East",NY:"East",NJ:"East",CT:"East",MA:"East",RI:"East",VT:"East",NH:"East",ME:"East",MS:"South",AL:"South",TN:"South",KY:"South",GA:"South",FL:"South",SC:"South",NC:"South",VA:"South",WV:"South",MD:"South",DE:"South",TX:"South",OK:"South",AR:"South",LA:"South"});function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var vt=Object(v.b)(function(e){return{myUID:e.user.uid,userState:e.user}},function(e){return{postUserData:function(t,n,a){return e(P(t,n,a))}}})(function(e){var t=Object(a.useState)(""),n=Object(g.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)(""),i=Object(g.a)(c,2),l=i[0],u=i[1],d=Object(a.useState)(""),p=Object(g.a)(d,2),m=p[0],f=p[1],h=Object(a.useState)([]),b=Object(g.a)(h,2),v=b[0],y=b[1],E=Object(a.useState)(!1),O=Object(g.a)(E,2),w=O[0],j=O[1],N=Object(a.useState)(""),A=Object(g.a)(N,2),k=A[0],D=A[1];Object(a.useEffect)(function(){return C(),function(){}},[]);var P=function(){var e=Object(V.a)(J.a.mark(function e(t){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.a.get("https://cors-anywhere.herokuapp.com/https://www.zipcodeapi.com/rest/js-zF10dQxfazt7cMgYnzZphQk7jEzBwBYPb781ubkqZokAXEvUzbinxdGT5rzVrkmB/info.json/"+t+"/degrees").then(function(e){return e.data}).catch(function(e){throw R("Sorry, we're having trouble processing that ZIP Code.")}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(V.a)(J.a.mark(function e(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:S.a.firestore().collection("users").get().then(function(e){var t=[];e.forEach(function(e){t.push(e.data().username)}),y(t)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var t=Object(V.a)(J.a.mark(function t(){var n,a;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(j(!0),t.prev=1,!v.includes(o)){t.next=4;break}throw R("Sorry, that username is taken");case 4:return console.log(l),t.next=7,P(l);case 7:n=t.sent,a={username:o,address:gt({},n,{region:ht[n.state]}),needsInfo:!1,gender:"M"===m?"Male":"Female"},e.postUserData(e.myUID,a,j),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),j(!1),D(t.t0.message);case 16:case"end":return t.stop()}},t,null,[[1,12]])}));return function(){return t.apply(this,arguments)}}(),L=o.length>2&&5===l.length&&!!m;return r.a.createElement("div",{className:"info-getter"},k?r.a.createElement("div",{className:"info-getter__notification",onAnimationEnd:function(){return D("")}},k):null,r.a.createElement("h1",null,"Complete Your Profile"),r.a.createElement("input",{className:"info-getter__username",placeholder:"Username",value:o,onChange:function(e){return t=e.target.value,void((new RegExp(/^[A-Za-z0-9_]+$/).test(t)||""===t)&&s(t.toLowerCase()));var t},spellCheck:!1,maxLength:14,autoCorrect:"off"}),r.a.createElement("div",{className:"info-getter__hor-container"},r.a.createElement("input",{className:"hor-container__input",placeholder:"Hometown Zipcode",type:"number",value:l,onChange:function(e){var t;(t=e.target.value).length<=5&&u(t)}}),r.a.createElement("button",{className:"hor-container__gender-button ".concat("M"===m?"valid":null),onClick:function(){return f("M")}},"M"),r.a.createElement("button",{className:"hor-container__gender-button ".concat("F"===m?"valid":null),onClick:function(){return f("F")}},"F")),r.a.createElement("button",{className:"info-getter__submit ".concat(L&&!w?"valid-submit":""),disabled:o<3||l.length<5||!m||w,onClick:I},"Submit",w?r.a.createElement(Ze,{customStyle:{position:"absolute",left:"-5em",top:"-9.5em"}}):null))});n(399),n(400);var yt=function(e){return r.a.createElement("div",{id:"uploadContainer",onClick:function(){return e.setShowPhotoModal(!0)}},r.a.createElement("div",{id:"uploadButtonContainer"},r.a.createElement("div",{id:"uploadButton"},r.a.createElement("i",{className:"fa fa-camera camera-icon","aria-hidden":"true"}))),e.imgURL?r.a.createElement("img",{id:"ProfileImage",alt:"",src:e.imgURL}):null)};var Et=Object(v.b)(function(e){return{uid:e.user.uid,email:e.user.email,username:e.user.username,sex:e.user.gender,address:e.user.address,zipcode:e.user.address.zip_code,city:e.user.address.city,state:e.user.address.state,needsInfo:e.user.needsInfo,photoURL:e.user.photoURL,blurb:e.user.blurb}},function(e){return{postUserData:function(t,n){return e(P(t,n))},logout:function(){return e(C())}}})(function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)([]),i=Object(g.a)(c,2),l=i[0],u=i[1],d=Object(a.useState)(""),p=Object(g.a)(d,2),m=p[0],f=p[1];Object(a.useEffect)(function(){document.addEventListener("click",h);var e=W.allFollowsListener(u);return function(){document.removeEventListener("click",h),e()}},[]),Object(a.useEffect)(function(){e.blurb&&f(e.blurb)},[e.photoRef,e.rapper,l,e.uid,e.blurb]);var h=function(e){e.target.classList.contains("hub-profile-box__three-dots")||e.target.classList.contains("dot")||s(!1)},b=e.paramsUser?e.paramsUser:e,v=null,y=r.a.createElement("div",{className:"contents-wrapper__handles-container"},r.a.createElement("i",{className:"fab fa-facebook-f icon",onClick:function(){return e.toggleUploadHandles(!0)}}),r.a.createElement("i",{className:"fab fa-instagram icon",onClick:function(){return e.toggleUploadHandles(!0)}}),r.a.createElement("i",{className:"fab fa-soundcloud icon",onClick:function(){return e.toggleUploadHandles(!0)}}),r.a.createElement("i",{className:"fab fa-youtube icon",onClick:function(){return e.toggleUploadHandles(!0)}}));e.paramsUser&&(y=Object.entries(b.handles).map(function(e){return""!==e[1]?r.a.createElement("i",{className:"fab fa-".concat(e[0]+("facebook"===e[0]?"-f":"")," icon"),onClick:function(){return window.open((t=e[1],/^(?:f|ht)tps?\:\/\//.test(t)||(t="http://"+t),t));var t}}):null}),y=r.a.createElement("div",{className:"contents-wrapper__handles-container"},y)),b.needsInfo||e.isLoading||(v=r.a.createElement("div",{className:"block-one__contents-wrapper"},e.paramsUser?r.a.createElement("img",{className:"contents-wrapper__params-photo",src:e.paramsUser.photoURL,alt:""}):r.a.createElement(yt,{imgURL:b.photoURL,setShowPhotoModal:e.setShowPhotoModal}),r.a.createElement("div",{className:"contents-wrapper__username"},b.username),r.a.createElement("div",{className:"contents-wrapper__address-gender"},b.address.city,", ",b.address.state," | ",b.sex?b.sex:b.gender),y,e.paramsUser?r.a.createElement("div",{className:"contents-wrapper__blurb",style:{cursor:"default"}},e.paramsUser.blurb):r.a.createElement("textarea",{className:"contents-wrapper__blurb",placeholder:e.paramsUser?null:"-Write a blurb-",spellCheck:!1,maxLength:55,style:e.paramsUser?{cursor:"default"}:null,onKeyDown:function(e){return function(e){13===e.keyCode&&(e.preventDefault(),e.target.blur())}(e)},onChange:function(e){return f(e.target.value)},onBlur:function(t){return e.postUserData(e.uid,{blurb:t.target.value})},disabled:!!e.paramsUser,value:e.paramsUser?b.blurb:m}))),e.needsInfo&&!e.isLoading&&(v=r.a.createElement("div",{className:"block-one__contents-wrapper"},r.a.createElement("img",{className:"contents-wrapper__dummy-img",alt:"",src:e.photoURL}),r.a.createElement("div",{className:"contents-wrapper__username"},"Anonymous")));var E,O=null;e.isLoading||(O=r.a.createElement("div",{className:"block-two__place-point-container"},r.a.createElement("div",null,e.myPlace+_(e.myPlace)+" place"),r.a.createElement("div",null,e.myPoints+" point"+(1===e.myPoints?"":"s")))),E=e.paramsUser||e.isLoading?null:r.a.createElement("div",null,r.a.createElement("div",{className:"hub-profile-box__three-dots",onClick:function(){return s(!o)}},r.a.createElement("div",{className:"dot"}),r.a.createElement("div",{className:"dot"}),r.a.createElement("div",{className:"dot"})),o?r.a.createElement("div",{className:"hub-profile-box__drop-options"},r.a.createElement("div",{className:"drop-options__log-out",onClick:e.logout},"Log Out")):null,r.a.createElement("i",{className:"fas fa-cog hub-profile-box__settings",onClick:function(){return e.toggleDeleteAcc(!0)}}));var w=null;return e.paramsUser&&(w=l.filter(function(t){return t.from===e.uid&&t.to===e.paramsUser.uid})),console.log(w),r.a.createElement("div",{className:"hub-profile-box"},E,r.a.createElement("div",{className:"hub-profile-box__block-one"},v),r.a.createElement("div",{className:"hub-profile-box__block-two"},e.paramsUser?r.a.createElement("div",{className:"block-two__follow-button",onClick:0===w.length?function(){S.a.firestore().collection("follows").add({from:e.uid,to:e.paramsUser.uid}).then(function(){return console.log("follow set successfully")}).catch(function(e){return console.log(e.message)})}:function(){return function(){var t=S.a.firestore();console.log(e.uid,e.user),t.collection("follows").where("from","==",e.uid).where("to","==",e.paramsUser.uid).get().then(function(e){e.forEach(function(e){e.ref.delete()})}).catch(function(e){return console.log(e)})}()}},0===w.length?"follow":"following"):null,O))});n(401);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var jt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={selectedFile:null,hasChanged:!1,uploading:!1,showNotification:!1,notificationMessage:"Upload Successful!",notificationStatus:"successColor"},n.fileSelectedHandler=function(e){var t=e.target.files[0];if(t){var a=new FileReader,r=document.getElementById("uploadIMGPresent");r.title=t.name,a.onload=function(e){r.src=e.target.result},a.readAsDataURL(t),n.setState(wt({},n.state,{selectedFile:e.target.files[0],hasChanged:!0}))}},n.fileUploadHandler=function(){n.setState(wt({},n.state,{uploading:!0}));var e=S.a.storage().ref().child("images/".concat(n.props.uid,"/userIMG.png")).put(n.state.selectedFile);e.on("state_changed",function(e){},function(e){n.setState(wt({},n.state,{uploading:!1,showNotification:!0,notificationStatus:"failed",notificationMessage:e.message}))},function(){e.snapshot.ref.getDownloadURL().then(function(){var e=Object(V.a)(J.a.mark(function e(t){var a;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=S.a.firestore(),e.next=4,a.collection("submissions").where("uid","==",n.props.uid).get().then(function(e){e.forEach(function(e){e.ref.update({photoURL:t})})});case 4:return e.next=6,a.collection("postComments").where("uid","==",n.props.uid).get().then(function(e){e.forEach(function(e){e.ref.update({photoURL:t})})});case 6:n.props.setUserData(t),n.setState(wt({},n.state,{uploading:!1,showNotification:!0,hasChanged:!1})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),alert("There was an error uploading the new image. Please try again.");case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}())})},n.toggleNotification=function(e){n.setState(wt({},n.state,{showNotification:e}))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState(wt({},this.state,{selectedFile:this.props.photoURL}))}},{key:"render",value:function(){var e,t=this;return e=this.state.selectedFile?r.a.createElement("img",{id:"uploadIMGPresent",alt:"what?",src:this.state.selectedFile}):r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",{className:"ul-img-backdrop",onClick:function(){return t.props.setShowPhotoModal(!1)}}),r.a.createElement("div",{id:"UploadImage"},r.a.createElement("div",{className:"upload-image__header"},r.a.createElement("div",null,"Set Photo")),this.state.uploading?r.a.createElement(Ze,{customStyle:{position:"absolute",zIndex:500,color:"orange",top:"-10em"}}):null,this.state.showNotification?r.a.createElement("div",{className:"upload-photo-success-msg",onAnimationEnd:function(){return t.toggleNotification(!1)},id:this.state.notificationStatus?"successColor":"failed"},this.state.notificationMessage):null,r.a.createElement("div",{className:"upload-image__content-container"},r.a.createElement("i",{className:"fa fa-close closeUploadImage",onClick:function(){return t.props.setShowPhotoModal(!1)}}),e,r.a.createElement("input",{onChange:this.fileSelectedHandler,type:"file",id:"files",className:"hidden",accept:"image/x-png, image/jpeg"}),r.a.createElement("div",{id:"UploadButtons"},this.state.hasChanged?r.a.createElement("button",{id:"uploadIMG",onClick:this.fileUploadHandler},"Confirm"):r.a.createElement("label",{id:"uploadIMG",htmlFor:"files"},"Choose File")))))}}]),t}(a.Component),St=Object(v.b)(function(e){return{uid:e.user.uid,photoURL:e.user.photoURL}},function(e){return{setUserData:function(t){return e(D({photoURL:t}))}}})(jt);n(402);function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var kt=Object(v.b)(function(e){return{loggedIn:e.user.loggedIn,email:e.user.email,username:e.user.username,sex:e.user.sex,photoURL:e.user.photoURL,uid:e.user.uid,needsInfo:e.user.needsInfo,hubUI:e.ui.hub}},function(e){return{setHubUI:function(t){return e(function(e){return{type:"SET_HUB_UI",hubUI:e}}(t))}}})(function(e){var t=Object(a.useState)(null),n=Object(g.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)(null),i=Object(g.a)(c,2),l=(i[0],i[1]),u=Object(a.useState)(!1),d=Object(g.a)(u,2),p=d[0],m=d[1],f=Object(a.useState)(e.match.params.username?null:Re.a),h=Object(g.a)(f,2),b=h[0],v=h[1],y=Object(a.useState)(e.match.params.username?Be.a:Me.a),E=Object(g.a)(y,2),O=E[0],w=E[1],j=Object(a.useState)(!1),N=Object(g.a)(j,2),A=N[0],k=N[1],D=Object(a.useState)(!1),P=Object(g.a)(D,2),C=P[0],I=P[1],L=Object(a.useState)(!1),x=Object(g.a)(L,2),U=x[0],M=x[1],_=Object(a.useState)(!1),R=Object(g.a)(_,2),B=R[0],J=R[1],V=Object(a.useState)(null),F=Object(g.a)(V,2),H=F[0],Q=F[1],Y=Object(a.useState)(""),G=Object(g.a)(Y,2),z=(G[0],G[1]),K=Object(a.useState)([]),X=Object(g.a)(K,2),q=X[0],Z=X[1],$=Object(a.useState)(0),ee=Object(g.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(0),re=Object(g.a)(ae,2),oe=re[0],se=re[1],ce=Object(a.useState)([]),ie=Object(g.a)(ce,2),le=ie[0],ue=ie[1],de=Object(a.useState)([]),pe=Object(g.a)(de,2),me=pe[0],fe=pe[1],be=Object(a.useState)({postSelected:!1,selectedPost:null,focusedElement:null}),ve=Object(g.a)(be,2),ye=ve[0],Ee=ve[1],Oe=Object(a.useState)([]),we=Object(g.a)(Oe,2),je=we[0],Se=we[1],Ae=Object(a.useState)(e.hubUI.feed),De=Object(g.a)(Ae,2),Ce=De[0],Ie=De[1];Object(a.useEffect)(function(){var e=["columns-container","left-column","middle-column","right-column","yox","hub-layout__body-wrapper"],t=function(t){e.forEach(function(e){t.target.classList.contains(e)&&Ee(At({},ye,{postSelected:!1,focusedElement:null}))})},n=W.allVotesListener(Z),a=W.allFollowsListener(ue),r=W.allPostsListener(fe),o=W.allSubmissionCommentsListener(Se);return document.addEventListener("click",t),function(){n(),a(),r(),o(),document.removeEventListener("click",t)}},[]),Object(a.useEffect)(function(){var t=e.match.params.username;t?(S.a.firestore().collection("users").where("username","==",t).get().then(function(e){e.forEach(function(e){console.log(e.data()),s(e.data()),m(!0)})}),console.log("changedddd"),w(Be.a),v(null)):(console.log("changedddd"),s(null),m(!0),w(Me.a),v(Re.a));return function(){}},[e.match.params.username,e.username]),Object(a.useEffect)(function(){var e=function(e){switch(e.key){case"2":return l(2);case"3":return l(3);case"4":return l(4)}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[]),Object(a.useEffect)(function(){e.hubUI&&Ie(e.hubUI.feed);var t=o||e;if(0!==q.length){ne(ft(q,t.uid));var n=q.filter(function(e){return e.receiverID===t.uid&&1===e.value}),a=q.filter(function(e){return e.receiverID===t.uid&&-1===e.value}),r=Math.max(n.length-a.length,0);se(r)}return function(){}},[e.uid,q,e.hubUI,o]),Object(a.useEffect)(function(){return Ee({postSelected:!1,selectedPost:null,focusedElement:null}),document.getElementById("hub-layout__body-wrapper").scrollTop=0,function(){}},[Ce]);var Le,xe=function(e){var t=me.filter(function(t){return t.pid===e});t=t[0];var n=document.querySelector("#scrollTo".concat(e));Te(n),Ee(At({},ye,{focusedElement:n,selectedPost:t,postSelected:!0}))},Ue=function(e){return e.sort(function(e,t){return e.createdOn>t.createdOn?-1:1})},_e=function(e,t){Q(t),M(e)},Te=function(e){var t=e.offsetTop;document.getElementById("hub-layout__body-wrapper").scrollTop=t-45},Je={username:{fontSize:"1em"},paragraph:{width:"16em",fontSize:"1.4em"},whole:{backgroundColor:"rgba(0, 0, 0, 0.81)"}},Ve=At({},Je,{whole:At({},Je.whole,{border:"1px solid grey"})}),Fe=[];if(o)Fe=Ue(Fe=me.filter(function(e){return o.uid===e.uid}));else if("Personal"===Ce)Fe=Ue(Fe=me.filter(function(t){return e.uid===t.uid}));else if("Following"===Ce){var He=le.filter(function(t){return t.from===e.uid}),We=new Set;He.forEach(function(e){We.add(e.to)}),Fe=Ue(Fe=me.filter(function(e){return We.has(e.uid)}))}Le=p?void 0===Fe||0===Fe.length?r.a.createElement("div",{className:"middle-column__notification"},r.a.createElement("div",{className:""},"No posts to show!")):Fe.map(function(e){var t=Je;return ye.selectedPost&&e.pid===ye.selectedPost.pid&&(t=Ve),r.a.createElement(ge,Object.assign({comments:je.filter(function(t){return t.pid===e.pid}),key:T(),customStyle:t,selectPost:xe,votes:q.filter(function(t){return t.pid===e.pid})},e))}):r.a.createElement(Pe,null);var Qe=r.a.createElement("div",{className:"middle-column"},Le);return e.needsInfo&&(Qe=r.a.createElement(vt,null)),r.a.createElement("div",{className:"hub-layout"},r.a.createElement(mt,{isLoading:!p,sortAndFilter:function(t,n){e.setHubUI({feed:n})},feed:Ce,paramsUser:o}),A?r.a.createElement(St,{setShowPhotoModal:k,setImgURL:z}):null,C?r.a.createElement(tt,{toggleUploadHandles:I}):null,U?r.a.createElement(ke,{cid:H,toggleDeleteCommentModal:_e}):null,B?r.a.createElement(ct,{toggleDeleteAcc:J}):null,r.a.createElement("img",{id:"backup-img",src:O,alt:""}),e.match.params.username?null:r.a.createElement("video",{className:"yox",id:"yox",src:b,autoPlay:!0,loop:!0,playsInline:!0,muted:!0}),r.a.createElement("div",{id:"yoxOverlay"}),e.match.params.username?null:r.a.createElement("div",{id:"mv-cred"},'Year of the Ox - "Mood Control Cypher"'),r.a.createElement("div",{className:"hub-layout__body-wrapper",id:"hub-layout__body-wrapper"},r.a.createElement("div",{className:"columns-container"},r.a.createElement("div",{className:"left-column"},r.a.createElement("div",{className:"left-column__profile-box-container"},r.a.createElement(Et,{paramsUser:o,setShowPhotoModal:k,toggleUploadHandles:I,toggleDeleteAcc:J,myPlace:te,myPoints:Math.max(oe,0),isLoading:!p})),r.a.createElement(ut,{paramsUser:o,follows:le})),Qe,r.a.createElement("div",{className:"right-column"},r.a.createElement(Ne,{toggleDeleteCommentModal:_e,customStyle:{wrapper:{width:"16.5em"},selectAPost:{fontSize:"1em",top:"2.5em"},body:{backgroundColor:"rgba(255, 255, 255, 0.95)"},header:{backgroundColor:"rgba(255, 255, 255, 0.9)"}},selectedPost:ye.selectedPost,postSelected:ye.postSelected,comments:je}),r.a.createElement("div",{className:"turntable-wrapper"},r.a.createElement(he,null))))))}),Dt=n(32),Pt=n(179),Ct=n.n(Pt),It=n(180),Lt=n.n(It),xt=n(181),Ut=n.n(xt),Mt=(n(408),n(409),n(410),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"JudgeNavItemContainer"},r.a.createElement("div",{className:"JudgeNavItem ".concat(this.props.type)},this.props.display,r.a.createElement("div",{className:"arrow down"})),r.a.createElement("div",{className:"dropdown",id:"".concat(this.props.type)},this.props.dropItems.map(function(t){return r.a.createElement("div",{key:t,className:"item",onClick:function(){return e.props.updateJudgeState(e.props.type,t)}},t)})))}}]),t}(a.Component)),_t=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).toggleDropdown=function(e){var t=document.getElementById("sort"),a=document.getElementById("filter"),r=document.getElementById("view"),o=document.getElementById("coast");if(e.target.classList.contains("sort")?t.classList.toggle("show"):t.classList.remove("show"),e.target.classList.contains("filter")?a.classList.toggle("show"):a.classList.remove("show"),e.target.classList.contains("view")?r.classList.toggle("show"):r.classList.remove("show"),e.target.classList.contains("coast")?o.classList.toggle("show"):o.classList.remove("show"),"Explore"===n.props.view){var s=document.getElementById("time");e.target.classList.contains("time")?s.classList.toggle("show"):s.classList.remove("show")}},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.toggleDropdown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.toggleDropdown)}},{key:"render",value:function(){var e=["Newest","Oldest"],t=null;return"Explore"===this.props.view&&(t=r.a.createElement(Mt,{dropItems:["Last 24 Hours","Last 7 Days","Last 30 Days","Last 6 Months","Last 12 Months","All Time"],type:"time",display:this.props.time,updateJudgeState:this.props.updateJudgeState}),e=["Newest","Oldest","Likes","Comments"]),r.a.createElement("div",{className:"JudgeNavBar"},r.a.createElement("div",{className:"JudgeNavSectionContainer"},r.a.createElement("div",{className:"nav-bar-section",id:"view-container"},r.a.createElement("p",null,"View:"),r.a.createElement(Mt,{dropItems:["Simple","Explore"],type:"view",display:this.props.view,updateJudgeState:this.props.updateJudgeState})),r.a.createElement("div",{className:"nav-bar-section",id:"sort-container"},r.a.createElement("p",null,"Sort:"),r.a.createElement(Mt,{dropItems:e,type:"sort",display:this.props.sort,updateJudgeState:this.props.updateJudgeState})),r.a.createElement("div",{className:"nav-bar-section",id:"judge-container"},r.a.createElement("p",null,"Filter:"),t,r.a.createElement(Mt,{dropItems:["All Coasts","West","East","South","Midwest"],type:"coast",display:this.props.coast,updateJudgeState:this.props.updateJudgeState}),r.a.createElement(Mt,{dropItems:["All Posts","Unvoted","Voted"],type:"filter",display:this.props.filter,updateJudgeState:this.props.updateJudgeState}))))}}]),t}(a.Component),Rt=(n(411),{"All Time":1/0,"Last 24 Hours":1,"Last 7 Days":7,"Last 30 Days":30,"Last 6 Months":180,"Last 12 Months":365});n(412);var Tt=function(e){var t=Object(a.useState)(0),n=Object(g.a)(t,2),o=n[0],s=n[1];return Object(a.useEffect)(function(){return S.a.firestore().collection("users").get().then(function(e){s(e.size)}),function(){}},[]),r.a.createElement("div",{className:"Community"},r.a.createElement("div",{className:"community-header"},"Community"),r.a.createElement("div",{className:"community-body"},r.a.createElement("div",null,o," member",1===o?"":"s"),r.a.createElement("div",{className:"a-line"}),r.a.createElement("div",null,4*e.submissions.length," barz")))};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Vt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={submissions:[],votes:[],comments:[],postSelected:!1,selectedPost:null,focusedElement:null,showDeleteComment:!1,cid:null,isDoneFetching:!1},n.componentDidMount=function(){n.fetchSubmissions(),n.fetchVotes(),n.fetchSubmissionComments(),document.addEventListener("click",n.toggleCommenter)},n.componentWillUnmount=function(){document.removeEventListener("click",n.toggleCommenter)},n.componentDidUpdate=function(e,t){e.sort===n.props.sort&&e.filter===n.props.filter&&e.view===n.props.view&&e.coast===n.props.coast&&e.time===n.props.time||(document.getElementById("many-view-layout").scrollTop=0)},n.setIsDoneFetching=function(e){n.setState(Jt({},n.state,{isDoneFetching:e}))},n.toggleCommenter=function(e){n.props.closesCommenter.forEach(function(t){e.target.classList.contains(t)&&(n.state.focusedElement&&n.state.focusedElement.classList.remove("focused-many-post"),n.setState(Jt({},n.state,{postSelected:!1,focusedElement:null})))})},n.toggleDeleteCommentModal=function(e,t){n.setState(Jt({},n.state,{showDeleteComment:e,cid:t}))},n.fetchSubmissionComments=function(){S.a.firestore().collection("postComments").onSnapshot(function(e){var t=[],a=!0,r=!1,o=void 0;try{for(var s,c=e.docs[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var i=s.value;i=Jt({},i.data(),{cid:i.id}),t.push(i)}}catch(l){r=!0,o=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}n.setState(Jt({},n.state,{comments:t}))})},n.fetchSubmissions=function(){S.a.firestore().collection("submissions").onSnapshot(function(e){var t=[],a=!0,r=!1,o=void 0;try{for(var s,c=e.docs[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var i=s.value;i=Jt({},i.data(),{pid:i.id}),t.push(i)}}catch(l){r=!0,o=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}n.setState(Jt({},n.state,{submissions:t}))})},n.fetchVotes=function(){S.a.firestore().collection("postVotes").onSnapshot(function(e){var t=[];e.forEach(function(e){var n=Jt({},e.data(),{vid:e.id});t.push(n)}),n.setState(Jt({},n.state,{votes:t}))},function(e){console.log(e)})},n.submissionLikes=function(e){var t=Object.values(n.state.votes).filter(function(t){return t.pid===e&&1===t.value});return console.log(t),t.length},n.submissionComments=function(e){return Object(x.a)(n.state.comments).filter(function(t){return t.pid===e}).length},n.sort_submissions=function(e){switch(e=Object(x.a)(e),n.props.sort){case"Newest":e=e.sort(function(e,t){return e.createdOn.toDate()>t.createdOn.toDate()?-1:1});break;case"Oldest":e=e.sort(function(e,t){return e.createdOn.toDate()<t.createdOn.toDate()?-1:1});break;case"Likes":e=e.sort(function(e,t){return n.submissionLikes(e.pid)>n.submissionLikes(t.pid)?-1:1});break;case"Comments":e=e.sort(function(e,t){return n.submissionComments(e.pid)>n.submissionComments(t.pid)?-1:1})}return e},n.filter_submissions=function(e){if(e=Object(x.a)(e),"All Posts"!==n.props.filter){var t=n.state.votes.filter(function(e){return e.voterID===n.props.uid});e=e.filter(function(e){var a=t.filter(function(t){return t.pid===e.pid}),r=!0;return a.forEach(function(e){1!==e.value&&-1!==e.value||(r=!1)}),"Unvoted"===n.props.filter?r:!r})}if("All Coasts"!==n.props.coast)switch(n.props.coast){case"West":e=e.filter(function(e){return"West"===e.address.region});break;case"East":e=e.filter(function(e){return"East"===e.address.region});break;case"South":e=e.filter(function(e){return"South"===e.address.region});break;case"Midwest":e=e.filter(function(e){return"Midwest"===e.address.region})}return e=e.filter(function(e){return(new Date-e.createdOn.toDate().getTime())/1e3/60/60/24<Rt[n.props.time]})},n.scrollToPost=function(e){var t=e.offsetTop;document.getElementById("many-view-layout").scrollTop=t},n.selectPost=function(e){var t=n.state.submissions.filter(function(t){return t.pid===e});t=t[0],n.state.focusedElement&&n.state.focusedElement.classList.remove("focused-many-post");var a=document.getElementById("scrollTo".concat(e));a.classList.add("focused-many-post"),n.scrollToPost(a),n.setState({postSelected:!0,selectedPost:t,focusedElement:a})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=Object(x.a)(this.state.submissions);t=this.sort_submissions(t),t=this.filter_submissions(t);var n=r.a.createElement(Pe,null);return t.length>0&&(n=t.map(function(t,n){return r.a.createElement(ge,Object.assign({key:t.pid,comments:e.state.comments.filter(function(e){return e.pid===t.pid}),index:n,selectPost:e.selectPost,votes:e.state.votes.filter(function(e){return e.pid===t.pid})},t))})),r.a.createElement("div",{className:"many-view-layout",id:"many-view-layout"},this.state.showDeleteComment?r.a.createElement(ke,{cid:this.state.cid,toggleDeleteCommentModal:this.toggleDeleteCommentModal}):null,r.a.createElement("div",{className:"many-view__posts"},n),r.a.createElement("div",{className:"many-view__modules"},r.a.createElement(Ne,{customStyle:{body:{backgroundColor:"rgba(255, 255, 255, 0.95)"},header:{backgroundColor:"rgba(255, 255, 255, 0.95)"}},selectedPost:this.state.selectedPost,postSelected:this.state.postSelected,comments:this.state.comments,toggleDeleteCommentModal:this.toggleDeleteCommentModal}),r.a.createElement(Tt,{submissions:this.state.submissions}),r.a.createElement("div",{className:"turntable-wrapper"},r.a.createElement(he,null))))}}]),t}(a.Component);Vt.defaultProps={closesCommenter:["many-view__posts","many-view","many-view__modules","sticky-wrapper","Community","many-view-layout"]};var Ft=Object(v.b)(function(e){return{uid:e.user.uid}},null)(Vt),Ht=(n(413),n(91)),Wt=n.n(Ht),Qt=(n(414),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"toJudge"},this.props.showErrMsg?r.a.createElement("div",{id:"judgeErrMsg",onAnimationEnd:this.props.resetErrState},this.props.errMsg):null,r.a.createElement("div",{className:"judge-lines"},r.a.createElement("div",{className:"judge-line",id:this.props.popInLeft},this.props.submission.content.lineOne),r.a.createElement("div",{className:"judge-line",id:this.props.popInRight},this.props.submission.content.lineTwo),r.a.createElement("div",{className:"judge-line",id:this.props.popInLeft},this.props.submission.content.lineThree),r.a.createElement("div",{className:"judge-line",id:this.props.popInRight},this.props.submission.content.lineFour)),r.a.createElement("div",{className:"judge-buttons"},r.a.createElement("button",{className:"judge-button",id:"prev-button"},r.a.createElement("div",{onClick:function(){return e.props.incDec(-1)},id:"prev-icon"},"\u2039")),r.a.createElement("button",{onClick:function(){return e.props.vote(-1)},className:"judge-button ".concat(this.props.downvoteStyle),id:"trash-button"},r.a.createElement("i",{className:"fa fa-trash",id:"trash-icon"})),r.a.createElement("button",{onClick:function(){return e.props.vote(1)},className:"judge-button ".concat(this.props.upvoteStyle),id:"fire-button"},r.a.createElement("i",{className:"fas fa-fire",id:"flame"})),r.a.createElement("button",{className:"judge-button",id:"the-next-button"},r.a.createElement("div",{onClick:function(){return e.props.incDec(1)},id:"next-icon"},"\u203a"))))}}]),t}(a.Component));function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var zt=function(e){function t(){var e,n,a;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state=(n={submissions:[{content:{lineOne:"",lineTwo:"",lineThree:"",lineFour:""}}],votes:{},vote:{value:0},pointer:0,showBars:!1,showErrMsg:!1,errMsg:"this is the default errMsg",popInLeft:"pop-in-left",popInRight:"pop-in-right"},Object(c.a)(n,"vote",null),Object(c.a)(n,"sort","Newest"),Object(c.a)(n,"filter","All Posts"),Object(c.a)(n,"view","Explore"),Object(c.a)(n,"showPost",!1),Object(c.a)(n,"pid",""),n),a.componentDidMount=Object(V.a)(J.a.mark(function e(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.fetchSubmissions(),a.fetchVotes(),a.setState(Gt({},a.state,{showBars:!0})),document.addEventListener("keydown",a.keyController);case 4:case"end":return e.stop()}},e)})),a.componentWillUnmount=function(){document.removeEventListener("keydown",a.keyController)},a.keyController=function(e){switch(e.key){case"ArrowLeft":return a.incDec(-1);case"ArrowRight":return a.incDec(1);case"ArrowUp":return a.vote(1);case"ArrowDown":return a.vote(-1)}},a.fetchSubmissions=Object(V.a)(J.a.mark(function e(){var t,n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.a.firestore(),n=[],e.abrupt("return",t.collection("submissions").get().then(function(e){e.forEach(function(e){var t=Gt({},e.data(),{pid:e.id});n.push(t)}),console.log("yeeeehaw"),a.setState(Gt({},a.state,{submissions:n}))}).catch(function(e){console.log(e)}));case 3:case"end":return e.stop()}},e)})),a.fetchVotes=Object(V.a)(J.a.mark(function e(){var t,n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=S.a.firestore(),n={},t.collection("postVotes").onSnapshot(function(e){e.forEach(function(e){var t=Gt({},e.data());n[e.id]=t}),a.setState(Gt({},a.state,{votes:n}))},function(e){console.log(e)});case 3:case"end":return e.stop()}},e)})),a.findVote=function(){var e=Object(x.a)(a.state.submissions);e=a.sort_submissions(e);var t=(e=a.filter_submissions(e))[a.state.pointer];if(!t)return null;var n=a.state.votes;for(var r in n){var o=n[r];if(o.pid===t.pid&&o.voterID===a.props.uid)return Gt({},o,{vid:r})}},a.sort_submissions=function(e){switch(e=Object(x.a)(e),a.props.sort){case"Newest":return e=e.sort(function(e,t){return e.createdOn.toDate()>t.createdOn.toDate()?-1:1});case"Oldest":return e=e.sort(function(e,t){return e.createdOn.toDate()<t.createdOn.toDate()?-1:1});default:return e}},a.filter_submissions=function(e){if("All Posts"===a.props.filter)return e;console.log("before submissions",e),e=Object(x.a)(e);var t=a.state.votes,n=(t=Object.values(t)).filter(function(e){return e.voterID===a.props.uid});return e=e.filter(function(e){var t=n.filter(function(t){return t.pid===e.pid}),r=!0;return t.forEach(function(e){1!==e.value&&-1!==e.value||(r=!1)}),"Unvoted"===a.props.filter?r:!r}),console.log("after submissions",e),e},a.incDec=function(){var e=Object(V.a)(J.a.mark(function e(t){var n,r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(x.a)(a.state.submissions),r=a.sort_submissions(r),r=a.filter_submissions(r),n=a.state.pointer+t===r.length?0:a.state.pointer+t===-1?r.length-1:a.state.pointer+t,a.setState(Gt({},a.state,{popInLeft:"pop-out-left",popInRight:"pop-out-right"}),function(){setTimeout(function(){a.setState(Gt({},a.state,{pointer:n,popInLeft:"pop-in-left",popInRight:"pop-in-right"}))},600)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.vote=function(){var e=Object(V.a)(J.a.mark(function e(t){var n,r,o,s,c,i;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.checkLoggedIn()&&(n=S.a.firestore(),r=a.findVote(),o=r&&r.value===t?0:t,s=Object(x.a)(a.state.submissions),s=a.sort_submissions(s),s=a.filter_submissions(s),c=s[a.state.pointer],console.log(c,"vote submission"),r?(i=Gt({},r,{value:o,date:new Date}),n.collection("postVotes").doc(r.vid).set(i).then(function(){return console.log("vote updated successfully")}).catch(function(e){return console.log("could not update vote",e)})):(t={value:o,date:new Date,pid:c.pid,receiverID:c.uid,voterID:a.props.uid,postDate:c.createdOn,address:c.address},n.collection("postVotes").add(t).then(function(){a.setState(Gt({},a.state,{vote:t}))}).catch(function(e){console.log("could not add vote",e)})));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.checkLoggedIn=function(){return!!a.props.uid||(a.setState(Gt({},a.state,{showErrMsg:!0,errMsg:"Login to Judge!"})),!1)},a.infoSet=function(){return!a.props.needsInfo||(a.setState(Gt({},a.state,{showErrMsg:!0,errMsg:"Set Info to Judge!"})),!1)},a.resetErrState=function(){a.setState(Gt({},a.state,{showErrMsg:!1}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=Object(x.a)(this.state.submissions);if(t=this.sort_submissions(t),0!==(t=this.filter_submissions(t)).length&&t[this.state.pointer]){var n=this.findVote(),a=n&&1===n.value?"lit-up":null,o=n&&-1===n.value?"lit-trash":null;e=r.a.createElement(Qt,{showErrMsg:this.state.showErrMsg,onAnimationEnd:this.resetErrState,errMsg:this.state.errMsg,popInLeft:this.state.popInLeft,popInRight:this.state.popInRight,submission:t[this.state.pointer],incDec:this.incDec,vote:this.vote,downvoteStyle:o,upvoteStyle:a})}else e="Unvoted"===this.props.filter?r.a.createElement("div",{className:"filter-null-msg"},"You've voted on all posts!"):"Voted"===this.props.filter?r.a.createElement("div",{className:"filter-null-msg"},"You haven't voted on any posts!"):r.a.createElement("div",{className:"filter-null-msg"},"Sorry. Having some issues fetching posts.");return r.a.createElement("div",{className:"judge-content-container"},this.state.showBars?e:r.a.createElement("div",{className:"loader"},"Loading..."))}}]),t}(a.Component),Kt=Object(v.b)(function(e){return{uid:e.user.uid,needsInfo:e.user.needsInfo}},null)(zt);function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var qt=Object(v.b)(function(e){return{uid:e.user.uid}},function(e){return{}})(function(e){var t=Object(a.useState)({view:"Explore",sort:"Newest",filter:"All Posts",time:"All Time",coast:"All Coasts"}),n=Object(g.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)(null),l=Object(g.a)(i,2),u=(l[0],l[1]);Object(a.useEffect)(function(){var e=function(e){switch(e.key){case"1":return u(1);case"2":return u(2);case"4":return u(4)}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[]);var d=r.a.createElement(Kt,{uid:e.uid,sort:o.sort,filter:o.filter,view:o.view});return"Explore"===o.view&&(d=r.a.createElement(Ft,{sort:o.sort,filter:o.filter,view:o.view,coast:o.coast,time:o.time})),r.a.createElement("div",null,r.a.createElement("div",{className:"JudgeContainer"},r.a.createElement("img",{id:"backup-img",src:Lt.a,alt:""}),r.a.createElement("video",{src:Ut.a,autoPlay:!0,loop:!0,playsInline:!0,muted:!0}),r.a.createElement("div",{id:"judgeOverlay"}),r.a.createElement(_t,{sort:o.sort,filter:o.filter,view:o.view,time:o.time,coast:o.coast,updateJudgeState:function(e,t){s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},o,Object(c.a)({},e,t)))}}),d))}),Zt=n(182),$t=n.n(Zt),en=n(183),tn=n.n(en);n(415);function nn(e){var t="All";return"All States"===e.state&&"All Coasts"!==e.coast?t=e.coast:"All States"!==e.state&&(t=e.state),r.a.createElement("div",{className:"BestCity"},r.a.createElement("div",{id:"best-city"},r.a.createElement("p",null," Best City ",r.a.createElement("span",{className:"filter-details"},"(",{"Last 24 Hours":"24h","Last 7 Days":"7d","Last 30 Days":"30d","Last 6 Months":"6mo","Last 12 Months":"12mo","All Time":"All"}[e.time],"/",t,"/",{"All Genders":"All",Male:"M",Female:"F"}[e.gender],")"))),r.a.createElement("div",{id:"best-city-value-container"},r.a.createElement("div",{id:"best-city-value"},e.bestCity.toLowerCase())))}n(416);function an(e){var t="All";return"All States"===e.state&&"All Coasts"!==e.coast?t=e.coast:"All States"!==e.state&&(t=e.state),r.a.createElement("div",{className:"BestCoast"},r.a.createElement("div",{id:"best-region"},r.a.createElement("p",null," Best Region ",r.a.createElement("span",{className:"filter-details"},"(",{"Last 24 Hours":"24h","Last 7 Days":"7d","Last 30 Days":"30d","Last 6 Months":"6mo","Last 12 Months":"12mo","All Time":"All"}[e.time],"/",t,"/",{"All Genders":"All",Male:"M",Female:"F"}[e.gender],")")," ")),r.a.createElement("div",{id:"best-region-value-container"},r.a.createElement("div",{id:"best-region-value"},e.bestCoast.toLowerCase())))}n(417);function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var sn=Object(v.b)(function(e){return{uid:e.user.uid,email:e.user.email,username:e.user.username,sex:e.user.gender,address:e.user.address,zipcode:e.user.address.zip_code,city:e.user.address.city,state:e.user.address.state,needsInfo:e.user.needsInfo,photoURL:e.user.photoURL,blurb:e.user.blurb}},function(e){return{postUserData:function(t,n){return e(P(t,n))},logout:function(){return e(C())}}})(function(e){var t=Object(a.useState)([]),n=Object(g.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)(!1),i=Object(g.a)(c,2),l=i[0],u=i[1];Object(a.useEffect)(function(){return d(),function(){}},[]),Object(a.useEffect)(function(){e.rapper&&function(t){var n=o.filter(function(n){return n.to===t&&n.from===e.uid});u(0!==n.length)}(e.rapper.uid)},[e.photoURL,e.rapper,o,e.uid,e.blurb]);var d=function(){var e=Object(V.a)(J.a.mark(function e(){var t,n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.a.firestore(),e.next=3,t.collection("follows").get().then(function(e){var t=[];return e.forEach(function(e){t.push(on({},e.data(),{fid:e.id}))}),t});case 3:n=e.sent,s(n);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),p=function(e){return/^(?:f|ht)tps?\:\/\//.test(e)||(e="http://"+e),e},f=e.rapper?r.a.createElement("div",{className:"block-one__username"},r.a.createElement(m.b,{style:{textDecoration:"none",color:"white"},to:"/"+e.rapper.username+"/"},e.rapper?e.rapper.username:null)):r.a.createElement("h2",{className:"block-one__select-a-user"},"Select a User"),h=e.rapper?r.a.createElement("div",{className:"block-one__address-gender"},e.rapper?e.rapper.city:null,", ",e.rapper?e.rapper.state:null," | ",e.rapper?e.rapper.gender:null):null,b=e.rapper?r.a.createElement(m.b,{style:{textDecoration:"none",color:"white"},to:"/"+e.rapper.username+"/"},r.a.createElement("div",{className:"block-one__img-wrapper"},r.a.createElement("div",null,r.a.createElement("img",{alt:"",src:e.rapper.photoURL}),1===e.rapper.rank?r.a.createElement("i",{class:"fas fa-crown crown"}):null,2===e.rapper.rank?r.a.createElement("i",{class:"fas fa-crown crown",style:{color:"silver"}}):null))):null,v=r.a.createElement("button",{className:"follow-button",onClick:function(){u(!0),S.a.firestore().collection("follows").add({from:e.uid,to:e.rapper.uid}).then(function(){return d()}).catch(function(e){return console.log(e.message)})}},"follow");l&&(v=r.a.createElement("button",{className:"follow-button",onClick:function(){u(!1),S.a.firestore().collection("follows").where("from","==",e.uid).where("to","==",e.rapper.uid).get().then(function(e){e.forEach(function(e){e.ref.delete()}),d()}).catch(function(e){return console.log(e)})}},"following"));var y=null;e.rapper&&(e.rapper.handles.facebook||e.rapper.handles.soundcloud||e.rapper.handles.instagram||e.rapper.handles.youtube)&&(y=r.a.createElement("div",{className:"block-one__handles-container"},e.rapper&&e.rapper.handles.facebook?r.a.createElement("a",{href:p(e.rapper.handles.facebook),rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{className:"fab fa-facebook-f icon"})):null,e.rapper&&e.rapper.handles.instagram?r.a.createElement("a",{href:p(e.rapper.handles.instagram),rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{className:"fab fa-instagram icon"})):null,e.rapper&&e.rapper.handles.soundcloud?r.a.createElement("a",{href:p(e.rapper.handles.soundcloud),rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{className:"fab fa-soundcloud icon"})):null,e.rapper&&e.rapper.handles.youtube?r.a.createElement("a",{href:p(e.rapper.handles.youtube),rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{className:"fab fa-youtube icon"})):null));var E=null;return e.rapper&&e.rapper.blurb&&(E=r.a.createElement("p",{className:"block-one__blurb",style:{cursor:"text"}},e.rapper?e.rapper.blurb:null)),console.log(e.rapper),r.a.createElement("div",{className:"spotlight"},r.a.createElement("div",{className:"spotlight__block-one"},b,f,h,y,E),r.a.createElement("div",{className:"spotlight__block-two",style:{fontSize:".7em"}},"them"===e.focus?v:null,r.a.createElement("div",null,e.rapper?e.rapper.rank+_(e.rapper.rank)+" place":null," "),r.a.createElement("div",null,e.rapper?e.rapper.votes+(1===e.rapper.votes?" point":" points"):null," ")))});n(418);var cn=Object(v.b)(function(e){return{myUsername:e.user.username}},null)(function(e){return r.a.createElement("div",{className:"rapper",onClick:function(){return e.shineSpotlight(e)},id:e.style},r.a.createElement("div",{className:"rapperDetail rapper-detail-font",id:"votes"},e.votes),r.a.createElement("div",{className:"rapperDetail rapper-detail-font",id:"username"},e.username),r.a.createElement("div",{className:"rapperDetail rapper-detail-font",id:"location"},"".concat(e.city,", ").concat(e.state)),r.a.createElement("div",{className:"rapperDetail rapper-detail-font",id:"coast"},e.coast),r.a.createElement("div",{className:"rapperDetail rapper-detail-font",id:"gender"},e.gender))});n(419);function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var dn=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={spotlightFocus:"me",spotlightRapper:null,fetchingSpotlightRapper:!1,rappers:[],dequedNo:0,toDeque:0},n.componentDidUpdate=function(e,a){if(e.rappers!==n.props.rappers){var r=n.props.rappers.length,o=Math.min(r,t.pageLen),s=r<=t.pageLen?0:r-t.pageLen;n.setState(un({},n.state,{rappers:n.props.rappers,dequedNo:o,toDeque:s}))}},n.deque=function(){n.state.toDeque<=t.pageLen?n.setState(un({},n.state,{dequedNo:n.state.dequedNo+n.state.toDeque,toDeque:0})):n.setState(un({},n.state,{dequedNo:n.state.dequedNo+t.pageLen,toDeque:n.state.toDeque-t.pageLen}))},n.findRapper=function(){return n.state.rappers.filter(function(e){return e.uid===n.props.uid})[0]},n.setSpotlightRapper=function(){var e=Object(V.a)(J.a.mark(function e(t){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,"new spot light rapper"),t.uid===n.props.uid?n.setState(un({},n.state,{myCachedRapperData:t,spotlightRapper:t,spotlightFocus:"me"})):n.setState(un({},n.state,{spotlightRapper:t,spotlightFocus:"them"}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.setSpotlightFocus=function(e){"me"===e?n.setState(un({},n.state,{spotlightFocus:e,spotlightRapper:n.state.myCachedRapperData})):n.setState(un({},n.state,{spotlightFocus:e}))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",{id:"table-header"},r.a.createElement("div",{className:"headerDetail",id:"votes"},"Score"),r.a.createElement("div",{className:"headerDetail",id:"right-border"},"Username"),r.a.createElement("div",{className:"headerDetail",id:"right-border"},"Location"),r.a.createElement("div",{className:"headerDetail",id:"right-border"},"Region"),r.a.createElement("div",{className:"headerDetail"},"Gender")),n=r.a.createElement("div",{className:"Rappers"},t,console.log(this.props.rappers),0!==this.props.rappers.length||this.props.fetching?r.a.createElement("div",{className:"loader",id:"rappers-loader"},"Loading..."):r.a.createElement("div",{id:"no-rappers"},r.a.createElement("div",{id:"no-rappers-text"},"No rappers for that search!"))),a=0===this.state.rappers.length?n:r.a.createElement("div",{className:"Rappers"},t,this.state.rappers.slice(0,this.state.dequedNo).map(function(t,n){var a=n%2===0?"lighter":"darker";return r.a.createElement(cn,{rank:n+1,style:a,key:t.username,state:t.address.state,username:t.username,votes:t.tally,city:t.address.city,coast:t.address.region,gender:t.gender,address:t.address,submissionCount:t.submissionCount,uid:t.uid,handles:t.handles,photoURL:t.photoURL,blurb:t.blurb,shineSpotlight:e.setSpotlightRapper})}),this.state.toDeque?r.a.createElement("div",{id:"load-more",onClick:this.deque},"View More"):null);return r.a.createElement("div",{className:"Rappers-Container"},a,r.a.createElement("div",{className:"Winners-container"},r.a.createElement("div",{className:"Winners-container__spotlight"},r.a.createElement("div",{className:"spotlight__header"},r.a.createElement("div",{className:"header__section",onClick:this.state.spotlightRapper&&this.state.spotlightRapper.username===this.props.username?function(){return alert("Select a rapper!")}:function(){return e.setSpotlightFocus("them")}},r.a.createElement("span",{className:"section__word"},"Wordsmith"))),r.a.createElement("div",{className:"spotlight__profile-box-container"},r.a.createElement(sn,{rapper:this.state.spotlightRapper,focus:this.state.spotlightFocus,wrappedBy:"Rappers",setShowPhotoModal:this.props.setShowPhotoModal,toggleUploadHandles:this.props.toggleUploadHandles}))),r.a.createElement(an,{rank:this.props.rank,time:this.props.time,state:this.props.state,coast:this.props.coast,gender:this.props.gender,bestCoast:this.props.bestCoast}),r.a.createElement(nn,{rank:this.props.rank,time:this.props.time,state:this.props.state,coast:this.props.coast,gender:this.props.gender,bestCity:this.props.bestCity})))}}]),t}(a.Component);dn.pageLen=20;var pn=Object(v.b)(function(e){return{uid:e.user.uid,photoURL:e.user.photoURL,username:e.user.username}},null)(dn),mn=(n(420),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.toggleDropdown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.toggleDropdown)}},{key:"toggleDropdown",value:function(e){var t=document.getElementById("time"),n=document.getElementById("state"),a=document.getElementById("coast"),r=document.getElementById("gender");e.target.classList.contains("time")?t.classList.toggle("show"):t.classList.remove("show"),e.target.classList.contains("state")?n.classList.toggle("show"):n.classList.remove("show"),e.target.classList.contains("coast")?a.classList.toggle("show"):a.classList.remove("show"),e.target.classList.contains("gender")?r.classList.toggle("show"):r.classList.remove("show")}},{key:"render",value:function(){return r.a.createElement("div",{className:"WordNavBar"},r.a.createElement("div",{className:"WordNavSectionContainer"},r.a.createElement("div",{className:"FilterContainer"},r.a.createElement("p",{id:"filter"},"Filter:"),r.a.createElement(dt,{dropItems:["Last 24 Hours","Last 7 Days","Last 30 Days","Last 6 Months","Last 12 Months","All Time"],type:"time",display:this.props.time,sortAndFilter:this.props.sortAndFilter.bind(this)}),r.a.createElement(dt,{dropItems:["All States","AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],type:"state",display:this.props.state,sortAndFilter:this.props.sortAndFilter.bind(this)}),r.a.createElement(dt,{dropItems:["All Coasts","West","East","South","Midwest"],type:"coast",display:this.props.coast,sortAndFilter:this.props.sortAndFilter.bind(this)}),r.a.createElement(dt,{dropItems:["All Genders","Male","Female"],type:"gender",display:this.props.gender,sortAndFilter:this.props.sortAndFilter.bind(this)}))))}}]),t}(a.Component));n(421);function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var bn=function(e){var t=Object(a.useState)({rank:"Best",time:"All Time",state:"All States",coast:"All Coasts",gender:"All Genders"}),n=Object(g.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)({}),l=Object(g.a)(i,2),u=l[0],d=l[1],p=Object(a.useState)([]),m=Object(g.a)(p,2),f=m[0],h=m[1],b=Object(a.useState)(!0),v=Object(g.a)(b,2),y=v[0],E=v[1],O=Object(a.useState)([]),w=Object(g.a)(O,2),j=w[0],S=w[1],A=Object(a.useState)({}),k=Object(g.a)(A,2),D=k[0],P=k[1],C=Object(a.useState)(null),I=Object(g.a)(C,2),L=(I[0],I[1]);Object(a.useEffect)(function(){E(!0);var e=W.allPostsListener(h),t=W.allVotesListener(S),n=x(d,E);return function(){e(),t(),n()}},[]),Object(a.useEffect)(function(){var e={};return f.forEach(function(t){var n=j.filter(function(e){return e.pid===t.pid}),a=u[t.uid];e[t.uid]?e[t.uid].votes[t.createdOn]=n:e[t.uid]={uid:t.uid,gender:t.gender,username:t.username,address:t.address,votes:n,photoURL:t.photoURL,blurb:a?a.blurb:"",handles:a?a.handles:""}}),P(e),function(){}},[f,u,j]),Object(a.useEffect)(function(){var e=function(e){switch(e.key){case"1":return L(1);case"2":return L(2);case"3":return L(3)}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[]);var x=function(e,t){return N.firestore().collection("users").onSnapshot(function(n){var a={};n.forEach(function(e){a[e.id]=hn({},e.data(),{uid:e.id})}),e(a),t&&t(!1)},function(e){console.log(e.message)})},U=j?Object.values(j):[],M=hn({},D);"All States"!==o.state&&(M=Object.fromEntries(Object.entries(M).filter(function(e){var t=Object(g.a)(e,2);t[0];return t[1].address.state===o.state}))),"All Coasts"!==o.coast&&(M=Object.fromEntries(Object.entries(M).filter(function(e){var t=Object(g.a)(e,2);t[0];return t[1].address.region===o.coast}))),"All Genders"!==o.gender&&(M=Object.fromEntries(Object.entries(M).filter(function(e){var t=Object(g.a)(e,2);t[0];return t[1].gender===o.gender})));var _=function(e){var t=M[e],n=0;U.forEach(function(t){(new Date-t.postDate.toDate().getTime())/1e3/60/60/24>Rt[o.time]||e!==t.receiverID||(n+=t.value)}),t.tally=n<0?0:n;var a=f.filter(function(t){return!((new Date-t.createdOn.toDate().getTime())/1e3/60/60/24>Rt[o.time])&&t.uid===e}).length;t.submissionCount=a};for(var R in M)_(R);M=M?Object.values(M):[],M="Random"===o.rank?Wt()(M):M.sort(function(e,t){return e.tally<t.tally?1:-1});var T={},B={};M.forEach(function(e){var t="".concat(e.address.city,", ").concat(e.address.state);e.tally>0&&(T[t]=t in T?T[t]+e.tally:e.tally,B[e.address.region]=e.address.region in B?B[e.address.region]+e.tally:e.tally)});var J=Object.keys(T).length?Object.keys(T).reduce(function(e,t){return T[e]>T[t]?e:t}):"N/A",V=Object.keys(B).length?Object.keys(B).reduce(function(e,t){return B[e]>B[t]?e:t}):"N/A";return r.a.createElement("div",{className:"WordsmithsContainer"},r.a.createElement("img",{id:"backup-img",src:tn.a,alt:""}),r.a.createElement("video",{id:"badass",src:$t.a,autoPlay:!0,loop:!0,playsInline:!0,muted:!0}),r.a.createElement("div",{id:"WordSmithsOverlay"}),r.a.createElement(mn,{rank:o.rank,time:o.time,state:o.state,coast:o.coast,gender:o.gender,sortAndFilter:function(e,t){s(hn({},o,"state"===e&&"All States"!==t?Object(c.a)({coast:"All Coasts"},e,t):"coast"===e&&"All Coasts"!==t?Object(c.a)({state:"All States"},e,t):Object(c.a)({},e,t)))}}),r.a.createElement(pn,{rappers:M,rank:o.rank,time:o.time,state:o.state,coast:o.coast,gender:o.gender,bestCity:J,bestCoast:V,sort:o.rank,fetching:y}))},gn=(n(422),n(184)),vn=n.n(gn),yn=(n(423),n(185)),En=n.n(yn),On=n(34),wn=n.n(On);function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Nn=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={emailInput:"",showNotification:!1,notificationMsg:"Initial Notification Message",errStyle:null,notificationStyle:null,processing:!1},n.toggleProcessing=function(e){n.setState(Sn({},n.state,{processing:e}))},n.emailInputHandler=function(e){n.setState(Sn({},n.state,{emailInput:e.target.value}))},n.requestPassReset=function(e){e.preventDefault(),n.toggleProcessing(!0),S.a.auth().sendPasswordResetEmail(n.state.emailInput).then(function(){n.setState(Sn({},n.state,{showNotification:!0,notificationMsg:"Password Reset Link Sent!",emailInput:"",errStyle:null,processing:!1,notificationStyle:{backgroundColor:"rgba(0, 65, 3, 0.5)"}}))}).catch(function(e){n.toggleProcessing(!1);var t=e.message;n.setState(Sn({},n.state,{showNotification:!0,notificationMsg:t,processing:!1,notificationStyle:{backgroundColor:"rgba(112, 0, 0, 0.5)"}}))})},n.closeNotificationMsg=function(){n.setState(Sn({},n.state,{showNotification:!1}))},n.isValidEmail=function(){return wn.a.isEmail(n.state.emailInput)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"forgot-password-backdrop",onClick:function(t){return e.props.toggleForgotPass(!1)}}),r.a.createElement("form",{id:"forgot-password-modal"},r.a.createElement("i",{className:"fa fa-close",id:"forgot-pass-x",onClick:function(t){return e.props.toggleForgotPass(!1)}}),this.state.processing?r.a.createElement(Ze,{id:"forgot-pass-dot"}):null,this.state.showNotification?r.a.createElement("div",{className:"forgot-pass-notification",onAnimationEnd:this.closeNotificationMsg,style:this.state.notificationStyle},this.state.notificationMsg):null,r.a.createElement("img",{id:"pass-icon",src:En.a,alt:""}),r.a.createElement("h2",null,"Reset Password"),r.a.createElement("h5",{id:"dont-remember"},"Don't remember your password? We'll send you a reset link to your email."),r.a.createElement("input",{className:"pass-reset-input",type:"email",placeholder:"email",value:this.state.emailInput,onChange:this.emailInputHandler,style:this.state.errStyle}),r.a.createElement("button",{className:"passResetBtn ".concat(this.isValidEmail()&&!this.state.processing?"":"forgot-pass-invalid"),onClick:this.requestPassReset,disabled:!(this.isValidEmail()&&!this.state.processing)},"Send Reset")))}}]),t}(a.Component);n(485),n(486);n(487);n(488);var An=n(98),kn=n.n(An),Dn=n(186),Pn=n.n(Dn),Cn=n(187),In=n.n(Cn),Ln=Object(v.b)(function(e){return{}},function(e){return{}})(function(e){var t=Object(a.useState)(-1290),n=Object(g.a)(t,2),o=n[0],s=n[1];Object(a.useEffect)(function(){-1290===o?setTimeout(function(){s(0)},6e3):(o||s(-430),setTimeout(function(){s(o-430)},6e3))},[o]);var c={transform:"translateX(".concat(o,"px)")};return o||(c={transform:"translateX(".concat(o,"px)"),transition:"none"}),r.a.createElement("div",{className:"scroller"},r.a.createElement("div",{className:"scroller__item-container",style:c},r.a.createElement("div",{className:"item-container__item"},r.a.createElement("p",null,r.a.createElement("b",{className:"emphasized"},"Scribble "),"and",r.a.createElement("b",{className:"emphasized"}," Post "),"your best rap barz and ",r.a.createElement("b",{className:"emphasized"},"Judge")," the competition"),r.a.createElement("img",{className:"item__many-post",alt:"",src:kn.a})),r.a.createElement("div",{className:"item-container__item"},r.a.createElement("p",null,"See where you ",r.a.createElement("b",{className:"emphasized"},"Rank")," among the strongest ",r.a.createElement("b",{className:"emphasized"},"Wordsmiths")," in your area"),r.a.createElement("img",{className:"item__table",alt:"",src:In.a})),r.a.createElement("div",{className:"item-container__item"},r.a.createElement("p",null," ",r.a.createElement("b",{className:"emphasized"},"Follow")," your favorite ",r.a.createElement("b",{className:"emphasized"},"Wordsmiths")," and ",r.a.createElement("br",null)," ",r.a.createElement("b",{className:"emphasized"},"Explore")," each others' media"),r.a.createElement("img",{className:"item__ajiashi",alt:"",src:Pn.a})),r.a.createElement("div",{className:"item-container__item"},r.a.createElement("p",null,r.a.createElement("b",{className:"emphasized"},"Scribble "),"and",r.a.createElement("b",{className:"emphasized"}," Post "),"your best rap barz and ",r.a.createElement("b",{className:"emphasized"},"Judge")," the competition"),r.a.createElement("img",{className:"item__many-post",alt:"",src:kn.a}))))}),xn=n(188),Un=n.n(xn),Mn=(n(489),Object(v.b)(function(e){return{}},function(e){return{getUserData:function(t){return e(k(t))},setUserData:function(t){return e(D(t))}}})(function(e){var t=S.a.firestore(),n=Object(a.useState)(!1),o=Object(g.a)(n,2),s=o[0],c=o[1],i=Object(a.useState)(""),l=Object(g.a)(i,2),u=l[0],d=l[1],p=Object(a.useState)(!1),m=Object(g.a)(p,2),f=m[0],h=m[1],b=Object(a.useState)(null),v=Object(g.a)(b,2),y=v[0],E=v[1],O=Object(a.useState)(""),w=Object(g.a)(O,2),j=w[0],N=w[1],A=Object(a.useState)(""),k=Object(g.a)(A,2),D=k[0],P=k[1],C=Object(a.useState)(null),I=Object(g.a)(C,2),L=I[0],x=I[1],U=Object(a.useState)(!1),M=Object(g.a)(U,2),_=M[0],R=M[1];Object(a.useEffect)(function(){H(),document.getElementById("login-container__email-input").focus();var e=new S.a.auth.FacebookAuthProvider;return e.addScope("email"),e.setCustomParameters({display:"popup"}),E(e),function(){}},[]);var T=function(){var t=Object(V.a)(J.a.mark(function t(n){var a;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return R(!0),n&&n.preventDefault(),t.prev=2,t.next=5,B(j,D);case 5:a=t.sent,S.a.firestore().collection("users").doc(a).get().then(function(){var t=Object(V.a)(J.a.mark(function t(n){var r;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.exists){t.next=4;break}e.getUserData(a),t.next=10;break;case 4:return t.next=6,F(a);case 6:return r=t.sent,t.next=9,Q(j,a,r);case 9:e.getUserData(a);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),t.next=27;break;case 10:t.prev=10,t.t0=t.catch(2),R(!1),h(!1),console.log(t.t0.message),t.t1=t.t0.code,t.next="auth/invalid-email"===t.t1?18:"auth/too-many-requests"===t.t1?20:"auth/user-not-found"===t.t1?23:"auth/wrong-password"===t.t1?25:27;break;case 18:return d(t.t0.message),t.abrupt("break",27);case 20:return"Too many unsuccessful login attempts. Please try again later.",d("Too many unsuccessful login attempts. Please try again later."),t.abrupt("break",27);case 23:case 25:return d(t.t0.message),t.abrupt("break",27);case 27:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e){return t.apply(this,arguments)}}(),B=function(){var e=Object(V.a)(J.a.mark(function e(t,n){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.auth().signInWithEmailAndPassword(t,n).then(function(e){var t=e.user.uid,n=e.user.refreshToken,a=new Date;return a.setHours(a.getHours()+100),localStorage.setItem("token",n),localStorage.setItem("expirationDate",a),localStorage.setItem("uid",t),e.user.uid}).catch(function(e){throw console.log(e),e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(V.a)(J.a.mark(function e(t){var n,a;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=S.a.storage().ref(),a=n.child("images/".concat(t,"/userIMG.png")),e.abrupt("return",a.put(L).then(function(){var e=Object(V.a)(J.a.mark(function e(t){var n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ref.getDownloadURL();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log(e.message)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),H=function(){S.a.storage().ref("mysteryman/mysteryman.png").getDownloadURL().then(function(e){var t=new XMLHttpRequest;t.responseType="blob",t.onload=function(e){var n=t.response;x(n)},t.open("GET",e),t.send()}).catch(function(e){console.log(e)})},W=function(){var e=Object(V.a)(J.a.mark(function e(t,n){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.auth().createUserWithEmailAndPassword(t,n).then(function(e){return[e.user.email,e.user.uid]}).catch(function(e){throw e}));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(V.a)(J.a.mark(function e(t,n,a){var r,o;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=S.a.firestore(),o={email:t,uid:n,photoURL:a,username:"",address:"",gender:"",needsInfo:!0,handles:{facebook:"",instagram:"",soundcloud:"",youtube:""}},e.abrupt("return",r.collection("users").doc(n).set(o).then(function(){return!0}).catch(function(e){throw e}));case 3:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(V.a)(J.a.mark(function e(t,n,a){var r,o,s,i,l;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),a.preventDefault(),e.prev=2,e.next=5,W(t,n);case 5:return r=e.sent,o=Object(g.a)(r,2),s=o[0],i=o[1],e.next=11,F(i);case 11:return l=e.sent,console.log(l,"<----"),e.next=15,Q(s,i,l);case 15:R(!1),d("Created Account Successfully!"),h(!0),c(!1),document.getElementById("auth-frame__button").focus(),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(2),R(!1),d(e.t0.message),h(!1);case 27:case"end":return e.stop()}},e,null,[[2,22]])}));return function(t,n,a){return e.apply(this,arguments)}}(),G=function(e){return wn.a.isEmail(e)},z=function(e){return e.length>=6},K=function(){var n=Object(V.a)(J.a.mark(function n(){return J.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:R(!0),S.a.auth().signInWithPopup(y).then(function(){var n=Object(V.a)(J.a.mark(function n(a){var r,o,s,c;return J.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{r=a.credential.accessToken,o=a.user.uid,s=a.additionalUserInfo.profile.email,c=function(){var e=new Date;e.setHours(e.getHours()+100),localStorage.setItem("token",r),localStorage.setItem("expirationDate",e),localStorage.setItem("uid",o)},t.collection("users").doc(o).get().then(function(){var t=Object(V.a)(J.a.mark(function t(n){var a;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.exists){t.next=6;break}R(!1),c(),e.getUserData(o),t.next=15;break;case 6:return t.next=8,F(o);case 8:return a=t.sent,t.next=11,Q(s,o,a);case 11:c(),e.getUserData(o),d("Created Account Successfully!"),h(!0);case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}catch(i){d(i.message),h(!1),R(!1)}case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()).catch(function(e){d(e.message),h(!1),R(!1)});case 2:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();return r.a.createElement("div",{className:"landing__auth-frame",style:s?{paddingBottom:"2.9em"}:null},u?r.a.createElement("p",{className:"auth-frame__notification",style:f?{background:"rgba(2, 48, 8, 0.918)"}:null,onAnimationEnd:function(){d(""),h(!1)}},u):null,r.a.createElement("div",{className:"auth-frame__logo",style:s?{fontSize:"3.2em"}:null},s?"Sign Up":"BARZ",s?null:r.a.createElement("div",{className:"logo__beta"},"BETA")),s?null:r.a.createElement("div",{className:"auth-frame__sub-text"},"The best hub for your ",r.a.createElement("br",null)," inner wordsmith."),r.a.createElement("div",{className:"auth-frame__login-container",style:s?{marginTop:".3em"}:null},r.a.createElement("input",{id:"login-container__email-input",type:"email",placeholder:"Email",value:j,autoComplete:!0,onChange:function(e){return N(e.target.value)}}),r.a.createElement("input",{placeholder:"Password",type:"password",value:D,onChange:function(e){return P(e.target.value)}}),s?null:r.a.createElement("div",{className:"login-container__forgot-pass-container"},r.a.createElement("button",{className:"forgot-pass-container__button",onClick:function(){return e.toggleForgotPass(!0)},tabIndex:"-1"},"Forgot your password?"))),r.a.createElement("button",{id:"auth-frame__button",style:s?{marginTop:"2.45em"}:null,className:"auth-frame__login-button ".concat(j.length>0&&G(j)&&z(D)&&!_?"auth-frame__login-button--valid":null),onClick:s?function(e){return Y(j,D,e)}:T,disabled:!G(j)||!z(D)||_},s?"Create Account":"Log In",_?r.a.createElement(Ze,{customStyle:{position:"absolute",left:"-55px",bottom:"-104px"}}):null),r.a.createElement("div",{className:"auth-frame__or"},"or"),r.a.createElement("button",{className:"auth-frame__facebook-login",onClick:K},r.a.createElement("i",{class:"fab fa-facebook-square facebook-login__icon"}),r.a.createElement("b",null,s?"Sign Up":"Continue"," with Facebook")),s?r.a.createElement("div",{className:"auth-frame__dont-have",onClick:function(){return c(!1)}},"Already have an account? \xa0",r.a.createElement("span",{className:"dont-have__sign-up"},r.a.createElement("b",null,"Log In"))):r.a.createElement("div",{className:"auth-frame__dont-have",onClick:function(){return c(!0)}},"Don't have an account? \xa0",r.a.createElement("span",{className:"dont-have__sign-up"},r.a.createElement("b",null,"Sign Up"))))})),_n=Object(v.b)(null,function(e){return{getUserData:function(t){return e(k(t))}}})(function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),o=n[0],s=n[1];return r.a.createElement("div",{className:"landing"},o?r.a.createElement(Nn,{toggleForgotPass:s}):null,r.a.createElement("div",{className:"landing__video-overlay"}),r.a.createElement("img",{className:"landing__backup-img",src:Un.a,alt:""}),r.a.createElement("video",{className:"landing__video",src:vn.a,autoPlay:"false",loop:!0,playsInline:!0,muted:!0}),r.a.createElement("div",{className:"landing__letter-box-top"}),r.a.createElement("div",{className:"landing__hor-flex"},r.a.createElement(Ln,null),r.a.createElement(Mn,{toggleForgotPass:s})),r.a.createElement("div",{className:"landing__letter-box-bottom"}))}),Rn=(n(490),Object(v.b)(function(e){return{}},function(e){return{}})(function(e){return r.a.createElement("div",{className:"dev-modal-wrapper"},r.a.createElement("div",{className:"dev-modal-backdrop",onClick:function(){return e.togglePopup(!1)}}),r.a.createElement("div",{className:"dev-modal"},r.a.createElement("i",{className:"fa fa-close dev-modal__close",onClick:function(){return e.togglePopup(!1)}}),"Thanks for checking out this early beta version of BARZ! It\u2019s still in development so expect bugs, weird behavior, and at worst crashes (I\u2019ll work really hard to prevent this), but I hope you can still have fun with the app in the meantime.",r.a.createElement("br",null),r.a.createElement("br",null),"A stable version release is aimed for sometime early next year. If you\u2019re interested in working on the app, shoot me an ",r.a.createElement("a",{href:"mailto:kangwritescode@gmail.com?Subject=BARZ",target:"_top"},"email")," or add me on ",r.a.createElement("a",{href:"https://www.facebook.com/david.kang.75"},"Facebook"),". Happy writing!",r.a.createElement("br",null),r.a.createElement("span",null,"-Ajiashi")))}));function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Bn=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showPopup:!1},n.componentDidUpdate=function(e,t){!e.authenticated&&n.props.authenticated},n.togglePopup=function(e){n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n.state,{showPopup:e}))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignin()}},{key:"render",value:function(){return this.props.autoSignInOver&&!this.props.authenticated?r.a.createElement(_n,null):r.a.createElement("div",{className:"App"},this.state.showPopup?r.a.createElement(Rn,{togglePopup:this.togglePopup}):null,r.a.createElement(b,null),r.a.createElement(Ct.a,{volume:1*this.props.volume/100,url:this.props.musicURL,a:!0,playing:this.props.playing,loop:!0,width:"0px",height:"0px"}),r.a.createElement(Dt.c,null,r.a.createElement(Dt.a,{path:"/scribble",component:xe}),r.a.createElement(Dt.a,{path:"/judge",component:qt}),r.a.createElement(Dt.a,{path:"/wordsmiths",component:bn}),r.a.createElement(Dt.a,{path:"/hub",component:kt}),r.a.createElement(Dt.a,{path:"/:username",component:kt}),r.a.createElement(Dt.a,{path:"/",component:kt})))}}]),t}(a.Component),Jn=Object(v.b)(function(e){return{playing:e.music.playing,musicURL:e.music.musicURL,volume:e.music.volume,authenticated:e.user.loggedIn,email:e.user.email,autoSignInOver:e.user.autoSignInOver,photoURL:e.user.photoURL}},function(e){return{onTryAutoSignin:function(){return e(function(e){if(localStorage.getItem("token"))if(new Date(localStorage.getItem("expirationDate"))<new Date)N.auth().signOut(),e(C());else{var t=localStorage.getItem("uid");e(k(t))}else N.auth().signOut(),e(C())})},fetchUserData:function(t){return e(k(t))}}})(Object(Dt.f)(Bn));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Vn=n(37),Fn=n(189),Hn={playing:!1,musicURL:"",volume:50,songPointer:0,allStations:{lofi:"https://www.youtube.com/watch?v=hHW1oY26kxQ",boombap:"https://www.youtube.com/watch?v=BOXG4MLj1kU",dilla:"https://www.youtube.com/watch?v=XKB5h2tJQHQ",chillhop:"https://www.youtube.com/watch?v=DKSzY7Dg-rA"}},Wn=function(e,t,n){return M(e,{playing:n})},Qn=function(e,t){return M(e,{musicURL:t.musicURL})},Yn=function(e,t){return M(e,{volume:t.volume})},Gn=function(e,t){return M(e,{songPointer:t.value})},zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAY_MUSIC":return Wn(e,0,!0);case"STOP_MUSIC":return Wn(e,0,!1);case"CHANGE_MUSIC_MURL":return Qn(e,t);case"CHANGE_VOLUME":return Yn(e,t);case"SET_SONG_POINTER":return Gn(e,t);default:return e}};function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var qn={loggedIn:!1,needsInfo:!1,autoSignInOver:!1,uid:"",email:"",username:"",gender:"",address:"",photoRef:null,handles:{facebook:"",instagram:"",soundcloud:"",youtube:""},blurb:""},Zn=function(e,t){return M(e,{loggedIn:!0,email:t.email})},$n=function(e,t){return M(e,Xn({},t.data,{loggedIn:!0,autoSignInOver:!0}))},ea=function(e,t){return S.a.auth().signOut().then(function(){console.log("auth logout successful")}).catch(function(e){console.log(e.message)}),localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("uid"),M(e,Xn({},qn,{autoSignInOver:!0}))},ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATE":return Zn(e,t);case"SET_USER_DATA":return $n(e,t);case"LOG_OUT":return ea(e);default:return e}};function na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?na(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):na(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ra={hub:{feed:"Personal"},scribble:{focus:"Post"}},oa=function(e,t){return console.log(t),aa({},e,{hub:aa({},e.hub,{},t.hubUI)})},sa=function(e,t){return aa({},e,{scribble:aa({},e.scribble,{},t.scribbleUI)})},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HUB_UI":return oa(e,t);case"SET_SCRIBBLE_UI":return sa(e,t);default:return e}};n(491).config();Vn.d;var ia=Object(Vn.c)({music:zn,user:ta,ui:ca}),la=Object(Vn.e)(ia,Object(Vn.d)(Object(Vn.a)(Fn.a))),ua=r.a.createElement(v.a,{store:la},r.a.createElement(m.a,null,r.a.createElement(Jn,null)));s.a.render(ua,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,t,n){e.exports=n.p+"static/media/yoxIMG.5150f223.png"},96:function(e,t,n){e.exports=n.p+"static/media/yox.c0cad85a.m4v"},97:function(e,t,n){e.exports=n.p+"static/media/studio.dee182ac.jpg"},98:function(e,t,n){e.exports=n.p+"static/media/manyPost.7bbc19c3.png"}},[[190,1,2]]]);
//# sourceMappingURL=main.26a624ee.chunk.js.map