{"ast":null,"code":"import _defineProperty from \"/Users/davidkang/Desktop/local-barz/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/davidkang/Desktop/local-barz/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/davidkang/Desktop/local-barz/src/containers/Hub/ProfileBox/ProfileBox.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport './ProfileBox.css';\nimport PhotoContainer from '../Profile/PhotoContainer/PhotoContainer';\nimport * as actionTypes from '../../../store/actions';\nimport DeleteAccount from '../Profile/DeleteAccount/DeleteAccount';\nimport firebase from 'firebase';\nimport ig from '../../../assets/handles/ig.png';\nimport fb from '../../../assets/handles/fb.png';\nimport sc from '../../../assets/handles/sc.png';\nimport yt from '../../../assets/handles/yt.png';\nimport { connect } from 'react-redux';\n\nfunction ProfileBox(props) {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        showDropOptions = _useState2[0],\n        toggleDropOptions = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        showDeleteAcc = _useState4[0],\n        toggleDeleteAcc = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        imgURL = _useState6[0],\n        setImgURL = _useState6[1];\n\n  const _useState7 = useState(null),\n        _useState8 = _slicedToArray(_useState7, 2),\n        userData = _useState8[0],\n        setUserData = _useState8[1];\n\n  useEffect(() => {\n    document.addEventListener('click', closeDropOptions);\n    fetchUserData();\n    return () => {\n      document.removeEventListener('click', closeDropOptions);\n    };\n  }, []);\n\n  const fetchUserData = uid => {\n    var db = firebase.firestore();\n    db.collection('users').doc(uid).get().then(user => {\n      user = _objectSpread({}, user.data(), {\n        uid: user.id\n      });\n      setUserData(user);\n    });\n  }; // fetch imgURL if new photoRef is given\n\n\n  useEffect(() => {\n    if (props.photoRef) {\n      var storage = firebase.storage();\n      storage.ref(props.photoRef).getDownloadURL().then(url => {\n        setImgURL(url);\n      }).catch(function (error) {\n        console.log(\"error in Profile.js: \", error);\n      });\n      return () => {// cleanup\n      };\n    }\n  }, [props.photoRef]);\n\n  const closeDropOptions = event => {\n    if (!event.target.classList.contains('profile-box__three-dots') && !event.target.classList.contains('dot')) {\n      toggleDropOptions(false);\n    }\n  };\n\n  const activeFB = userData && userData.handles.facebook ? 'active-handle' : null;\n  const activeIG = userData && userData.handles.instagram ? 'active-handle' : null;\n  const activeSC = userData && userData.handles.soundcloud ? 'active-handle' : null;\n  const activeYT = userData && userData.handles.youtube ? 'active-handle' : null;\n  var myAccountOptions = null;\n\n  if (props.wrappedBy === 'Hub') {\n    myAccountOptions = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"profile-box__three-dots\",\n      onClick: () => toggleDropOptions(!showDropOptions),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"dot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"dot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), showDropOptions ? React.createElement(\"div\", {\n      className: \"profile-box__drop-options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"drop-options__log-out\",\n      onClick: props.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Log Out\")) : null, React.createElement(\"i\", {\n      className: \"fas fa-cog profile-box__settings\",\n      onClick: () => toggleDeleteAcc(true),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }));\n  }\n\n  if (props.wrappedBy === 'Rappers') {}\n\n  return React.createElement(\"div\", {\n    className: \"profile-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, showDeleteAcc ? React.createElement(DeleteAccount, {\n    toggleDeleteAcc: toggleDeleteAcc,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }) : null, myAccountOptions, React.createElement(\"div\", {\n    className: \"profile-box__block-one\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"block-one__username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, userData ? userData.username : null), React.createElement(\"div\", {\n    className: \"block-one__address-gender\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, userData ? userData.address.city : null, \", \", props.address.state, \" | \", props.sex), React.createElement(PhotoContainer, {\n    imgURL: imgURL,\n    setShowPhotoModal: props.setShowPhotoModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"profile-box__block-two\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"block-two__blurb\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"\\\"West Philidelphia born and raised, on the playground was where i gspent most of my days\\\"\")), React.createElement(\"div\", {\n    className: \"profile-box__block-three\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"handle-container \".concat(activeFB),\n    onClick: () => props.toggleUploadHandles(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"block-three__fb\",\n    alt: \"alt\",\n    src: fb,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"handle-container \".concat(activeIG),\n    onClick: () => props.toggleUploadHandles(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"block-three__ig\",\n    alt: \"alt\",\n    src: ig,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"handle-container \".concat(activeSC),\n    onClick: () => props.toggleUploadHandles(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"block-three__sc\",\n    alt: \"alt\",\n    src: sc,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"handle-container \".concat(activeYT),\n    onClick: () => props.toggleUploadHandles(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"block-three__yt\",\n    alt: \"alt\",\n    src: yt,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }))));\n}\n\nconst mapStateToProps = state => {\n  return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    logout: () => dispatch({\n      type: actionTypes.LOG_OUT\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileBox);","map":{"version":3,"sources":["/Users/davidkang/Desktop/local-barz/src/containers/Hub/ProfileBox/ProfileBox.js"],"names":["React","useEffect","useState","PhotoContainer","actionTypes","DeleteAccount","firebase","ig","fb","sc","yt","connect","ProfileBox","props","showDropOptions","toggleDropOptions","showDeleteAcc","toggleDeleteAcc","imgURL","setImgURL","userData","setUserData","document","addEventListener","closeDropOptions","fetchUserData","removeEventListener","uid","db","firestore","collection","doc","get","then","user","data","id","photoRef","storage","ref","getDownloadURL","url","catch","error","console","log","event","target","classList","contains","activeFB","handles","facebook","activeIG","instagram","activeSC","soundcloud","activeYT","youtube","myAccountOptions","wrappedBy","logout","username","address","city","state","sex","setShowPhotoModal","toggleUploadHandles","mapStateToProps","mapDispatchToProps","dispatch","type","LOG_OUT"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport './ProfileBox.css'\nimport PhotoContainer from '../Profile/PhotoContainer/PhotoContainer'\nimport * as actionTypes from '../../../store/actions'\nimport DeleteAccount from '../Profile/DeleteAccount/DeleteAccount'\nimport firebase from 'firebase'\nimport ig from '../../../assets/handles/ig.png'\nimport fb from '../../../assets/handles/fb.png'\nimport sc from '../../../assets/handles/sc.png'\nimport yt from '../../../assets/handles/yt.png'\nimport { connect } from 'react-redux'\n\nfunction ProfileBox(props) {\n\n    const [showDropOptions, toggleDropOptions] = useState(false)\n    const [showDeleteAcc, toggleDeleteAcc] = useState(false)\n    const [imgURL, setImgURL] = useState(null)\n    const [userData, setUserData] = useState(null)\n\n    useEffect(() => {\n        document.addEventListener('click', closeDropOptions)\n        fetchUserData()\n        return () => {\n            document.removeEventListener('click', closeDropOptions)\n        };\n    }, [])\n\n    const fetchUserData = (uid) => {\n        var db = firebase.firestore()\n        db.collection('users').doc(uid).get()\n            .then(user => {\n                user = {\n                    ...user.data(),\n                    uid: user.id\n                }\n                setUserData(user)\n            })\n    }\n\n    // fetch imgURL if new photoRef is given\n    useEffect(() => {\n        if (props.photoRef) {\n            var storage = firebase.storage();\n            storage.ref(props.photoRef).getDownloadURL().then(url => {\n                setImgURL(url)\n            }).catch(function (error) { console.log(\"error in Profile.js: \", error) });\n            return () => {\n                // cleanup\n            };\n        }\n\n    }, [props.photoRef])\n\n    const closeDropOptions = (event) => {\n        if (!event.target.classList.contains('profile-box__three-dots') && !event.target.classList.contains('dot')) {\n            toggleDropOptions(false)\n        }\n    }\n\n    const activeFB = userData && userData.handles.facebook ? 'active-handle' : null\n    const activeIG = userData && userData.handles.instagram ? 'active-handle' : null\n    const activeSC = userData && userData.handles.soundcloud ? 'active-handle' : null\n    const activeYT = userData && userData.handles.youtube ? 'active-handle' : null\n\n    var myAccountOptions = null\n\n    if (props.wrappedBy === 'Hub') {\n        myAccountOptions = (\n            <div>\n                <div className='profile-box__three-dots' onClick={() => toggleDropOptions(!showDropOptions)}>\n                    <div className='dot' />\n                    <div className='dot' />\n                    <div className='dot' />\n                </div>\n                {showDropOptions ?\n                    <div className='profile-box__drop-options'>\n                        <div className='drop-options__log-out' onClick={props.logout}>Log Out</div>\n                    </div> : null}\n\n                <i className=\"fas fa-cog profile-box__settings\" onClick={() => toggleDeleteAcc(true)}></i>\n            </div>\n        )\n    }\n\n    if (props.wrappedBy === 'Rappers') {\n      \n    }\n    return (\n        <div className='profile-box'>\n            {showDeleteAcc ? <DeleteAccount toggleDeleteAcc={toggleDeleteAcc} /> : null}\n            {myAccountOptions}\n            <div className='profile-box__block-one'>\n                <div className='block-one__username'>{userData ? userData.username : null}</div>\n                <div className='block-one__address-gender'>{userData ? userData.address.city : null}, {props.address.state} | {props.sex}</div>\n                <PhotoContainer imgURL={imgURL} setShowPhotoModal={props.setShowPhotoModal} />\n            </div>\n            <div className='profile-box__block-two'>\n                <p className='block-two__blurb'>\"West Philidelphia born and raised, on the playground was where i gspent most of my days\"</p>\n            </div>\n            <div className='profile-box__block-three'>\n                <div className={`handle-container ${activeFB}`} onClick={() => props.toggleUploadHandles(true)}>\n                    <img className={`block-three__fb`} alt=\"alt\" src={fb}></img>\n                </div>\n                <div className={`handle-container ${activeIG}`} onClick={() => props.toggleUploadHandles(true)}>\n                    <img className={`block-three__ig`} alt=\"alt\" src={ig}></img>\n                </div>\n                <div className={`handle-container ${activeSC}`} onClick={() => props.toggleUploadHandles(true)}>\n                    <img className={`block-three__sc`} alt=\"alt\" src={sc}></img>\n                </div>\n                <div className={`handle-container ${activeYT}`} onClick={() => props.toggleUploadHandles(true)}>\n                    <img className={`block-three__yt`} alt=\"alt\" src={yt}></img>\n                </div>\n\n\n\n\n            </div>\n\n        </div>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        logout: () => dispatch({ type: actionTypes.LOG_OUT })\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileBox)\n"]},"metadata":{},"sourceType":"module"}