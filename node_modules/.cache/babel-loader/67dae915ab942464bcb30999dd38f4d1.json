{"ast":null,"code":"import _defineProperty from \"/Users/davidkang/Desktop/local-barz/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/*global FB*/\nimport { updateObject } from '../../shared/utility';\nimport * as actionTypes from '../actions/actionsTypes';\nimport firebase from 'firebase';\nconst initialState = {\n  // user related,\n  loggedIn: false,\n  needsInfo: true,\n  autoSignInOver: false,\n  uid: '',\n  email: '',\n  username: '',\n  gender: '',\n  address: '',\n  photoRef: null,\n  handles: {\n    facebook: '',\n    instagram: '',\n    soundcloud: '',\n    youtube: ''\n  },\n  blurb: ''\n};\n\nconst authenticate = (state, action) => {\n  return updateObject(state, {\n    loggedIn: true,\n    email: action.email\n  });\n};\n\nconst setUserData = (state, action) => {\n  console.log(action.data);\n  return updateObject(state, _objectSpread({}, action.data, {\n    loggedIn: true,\n    autoSignInOver: true\n  }));\n};\n\nconst logOut = (state, action) => {\n  firebase.auth().signOut().then(function () {\n    console.log('auth logout successful');\n  }).catch(function (error) {\n    console.log(error.message);\n  });\n  localStorage.removeItem('token');\n  localStorage.removeItem('expirationDate');\n  localStorage.removeItem('uid');\n  return updateObject(state, _objectSpread({}, initialState, {\n    autoSignInOver: true\n  }));\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.AUTHENTICATE:\n      return authenticate(state, action);\n\n    case actionTypes.SET_USER_DATA:\n      return setUserData(state, action);\n\n    case actionTypes.LOG_OUT:\n      return logOut(state, action);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/davidkang/Desktop/local-barz/src/store/reducers/user.js"],"names":["updateObject","actionTypes","firebase","initialState","loggedIn","needsInfo","autoSignInOver","uid","email","username","gender","address","photoRef","handles","facebook","instagram","soundcloud","youtube","blurb","authenticate","state","action","setUserData","console","log","data","logOut","auth","signOut","then","catch","error","message","localStorage","removeItem","reducer","type","AUTHENTICATE","SET_USER_DATA","LOG_OUT"],"mappings":";;;;;;AAAA;AAEA,SAASA,YAAT,QAA6B,sBAA7B;AACA,OAAO,KAAKC,WAAZ,MAA6B,yBAA7B;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEA,MAAMC,YAAY,GAAG;AAEjB;AACAC,EAAAA,QAAQ,EAAE,KAHO;AAIjBC,EAAAA,SAAS,EAAE,IAJM;AAKjBC,EAAAA,cAAc,EAAE,KALC;AAMjBC,EAAAA,GAAG,EAAE,EANY;AAOjBC,EAAAA,KAAK,EAAE,EAPU;AAQjBC,EAAAA,QAAQ,EAAE,EARO;AASjBC,EAAAA,MAAM,EAAE,EATS;AAUjBC,EAAAA,OAAO,EAAE,EAVQ;AAWjBC,EAAAA,QAAQ,EAAE,IAXO;AAYjBC,EAAAA,OAAO,EAAE;AACLC,IAAAA,QAAQ,EAAE,EADL;AAELC,IAAAA,SAAS,EAAE,EAFN;AAGLC,IAAAA,UAAU,EAAE,EAHP;AAILC,IAAAA,OAAO,EAAE;AAJJ,GAZQ;AAkBjBC,EAAAA,KAAK,EAAE;AAlBU,CAArB;;AAsBA,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACpC,SAAOrB,YAAY,CAACoB,KAAD,EAAQ;AACvBhB,IAAAA,QAAQ,EAAE,IADa;AAEvBI,IAAAA,KAAK,EAAEa,MAAM,CAACb;AAFS,GAAR,CAAnB;AAIH,CALD;;AAOA,MAAMc,WAAW,GAAG,CAACF,KAAD,EAAQC,MAAR,KAAmB;AACnCE,EAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,IAAnB;AACA,SAAOzB,YAAY,CAACoB,KAAD,oBACZC,MAAM,CAACI,IADK;AAEfrB,IAAAA,QAAQ,EAAE,IAFK;AAGfE,IAAAA,cAAc,EAAE;AAHD,KAAnB;AAKH,CAPD;;AASA,MAAMoB,MAAM,GAAG,CAACN,KAAD,EAAQC,MAAR,KAAmB;AAC9BnB,EAAAA,QAAQ,CAACyB,IAAT,GAAgBC,OAAhB,GAA0BC,IAA1B,CAA+B,YAAY;AACvCN,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACH,GAFD,EAEGM,KAFH,CAES,UAAUC,KAAV,EAAiB;AACtBR,IAAAA,OAAO,CAACC,GAAR,CAAYO,KAAK,CAACC,OAAlB;AACH,GAJD;AAKAC,EAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,EAAAA,YAAY,CAACC,UAAb,CAAwB,gBAAxB;AACAD,EAAAA,YAAY,CAACC,UAAb,CAAwB,KAAxB;AACA,SAAOlC,YAAY,CAACoB,KAAD,oBACZjB,YADY;AAEfG,IAAAA,cAAc,EAAE;AAFD,KAAnB;AAKH,CAdD;;AAiBA,MAAM6B,OAAO,GAAG,CAACf,KAAK,GAAGjB,YAAT,EAAuBkB,MAAvB,KAAkC;AAE9C,UAAQA,MAAM,CAACe,IAAf;AACI,SAAKnC,WAAW,CAACoC,YAAjB;AAA+B,aAAOlB,YAAY,CAACC,KAAD,EAAQC,MAAR,CAAnB;;AAC/B,SAAKpB,WAAW,CAACqC,aAAjB;AAAgC,aAAOhB,WAAW,CAACF,KAAD,EAAQC,MAAR,CAAlB;;AAChC,SAAKpB,WAAW,CAACsC,OAAjB;AAA0B,aAAOb,MAAM,CAACN,KAAD,EAAQC,MAAR,CAAb;;AAC1B;AACI,aAAOD,KAAP;AALR;AAOH,CATD;;AAWA,eAAee,OAAf","sourcesContent":["/*global FB*/\n\nimport { updateObject } from '../../shared/utility';\nimport * as actionTypes from '../actions/actionsTypes';\nimport firebase from 'firebase'\n\nconst initialState = {\n\n    // user related,\n    loggedIn: false,\n    needsInfo: true,\n    autoSignInOver: false,\n    uid: '',\n    email: '',\n    username: '',\n    gender: '',\n    address: '',\n    photoRef: null,\n    handles: {\n        facebook: '',\n        instagram: '',\n        soundcloud: '',\n        youtube: ''\n    },\n    blurb: '',\n\n}\n\nconst authenticate = (state, action) => {\n    return updateObject(state, {\n        loggedIn: true,\n        email: action.email\n    })\n}\n\nconst setUserData = (state, action) => {\n    console.log(action.data)\n    return updateObject(state, {\n        ...action.data,\n        loggedIn: true,\n        autoSignInOver: true,\n    })\n}\n\nconst logOut = (state, action) => {\n    firebase.auth().signOut().then(function () {\n        console.log('auth logout successful')\n    }).catch(function (error) {\n        console.log(error.message)\n    });\n    localStorage.removeItem('token')\n    localStorage.removeItem('expirationDate')\n    localStorage.removeItem('uid')\n    return updateObject(state, {\n        ...initialState,\n        autoSignInOver: true\n    })\n\n}\n\n\nconst reducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case actionTypes.AUTHENTICATE: return authenticate(state, action)\n        case actionTypes.SET_USER_DATA: return setUserData(state, action)\n        case actionTypes.LOG_OUT: return logOut(state, action)\n        default:\n            return state\n    }\n}\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}