{"ast":null,"code":"import _slicedToArray from \"/Users/davidkang/Desktop/local-barz/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/davidkang/Desktop/local-barz/src/containers/Judge/JudgeBarz/ManyView/ManyPost/ManyPost.js\";\nimport React, { Component, useState, useEffect } from 'react';\nimport './ManyPost.css';\nimport firebase from 'firebase';\nimport 'firebase/firestore';\n\nconst ManyPost = props => {\n  const _useState = useState('https://firebasestorage.googleapis.com/v0/b/barz-86ae0.appspot.com/o/mysteryman%2Fmysteryman.png?alt=media&token=7b1e5a7c-ede3-46ff-a036-70636e528cd2'),\n        _useState2 = _slicedToArray(_useState, 2),\n        photoURL = _useState2[0],\n        setphotoURL = _useState2[1];\n\n  const _useState3 = useState(0),\n        _useState4 = _slicedToArray(_useState3, 2),\n        commentsCount = _useState4[0],\n        setCommentsCount = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        votes = _useState6[0],\n        setVotes = _useState6[1];\n\n  useEffect(() => {\n    var db = firebase.firestore();\n    const votesListener = db.collection('postVotes').where('pid', '==', this.props.pid).onSnapshot(snap => {\n      var votes = [];\n      snap.docs.forEach(doc => {\n        votes.push(doc.data());\n      });\n      setVotes(votes);\n    });\n    const commentsCountListener = db.collection('postComments').where('pid', '==', this.props.pid).onSnapshot(snap => {\n      setCommentsCount(snap.size);\n    });\n    return () => {\n      votesListener();\n      commentsCountListener();\n    };\n  }, [commentsCount, votes]); // date\n\n  var verboseDate = this.props.createdOn.toDate().toDateString();\n  const date = verboseDate.slice(4, verboseDate.length); // content\n\n  var content = this.props.content.lineOne + ' / ' + this.props.content.lineTwo + ' / ' + this.props.content.lineThree + ' / ' + this.props.content.lineFour; // votes \n\n  var score = this.state.score; // dict {coast: color}\n\n  const colorDict = {\n    'West': 'yellow',\n    'East': 'greeen',\n    'South': 'blue',\n    'Midwest': 'purple'\n  };\n  const coastColor = colorDict[this.props.address.region];\n  return React.createElement(\"div\", {\n    className: \"many-post scrollTo\".concat(this.props.pid),\n    id: \"scrollTo\".concat(this.props.pid),\n    onClick: () => this.props.selectPost(this.props.pid),\n    style: this.props.customStyle ? this.props.customStyle.body : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"many-post-details\",\n    id: this.props.pid,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"many-post-pic\",\n    src: this.props.photoURL,\n    alt: \"pic\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"many-post-name-date-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"h6\", {\n    style: this.props.customStyle ? this.props.customStyle.username : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, this.props.username), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, date))), React.createElement(\"div\", {\n    className: \"many-post-region\",\n    id: coastColor,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, this.props.address.region.toLowerCase()), React.createElement(\"div\", {\n    className: \"many-post-misc\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    class: \"fas fa-comment\",\n    id: \"manyComment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), commentsCount, React.createElement(\"i\", {\n    className: \"fas fa-fire\",\n    id: \"manyFlame\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), score)), React.createElement(\"div\", {\n    className: \"many-post-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: this.props.customStyle ? this.props.customStyle.paragraph : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"\\\"\".concat(content, \"\\\"\"))), React.createElement(\"div\", {\n    className: \"vote-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"vote-button dislike-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-trash\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"vote-button like-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-fire\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }))));\n};\n\nexport default ManyPost;","map":{"version":3,"sources":["/Users/davidkang/Desktop/local-barz/src/containers/Judge/JudgeBarz/ManyView/ManyPost/ManyPost.js"],"names":["React","Component","useState","useEffect","firebase","ManyPost","props","photoURL","setphotoURL","commentsCount","setCommentsCount","votes","setVotes","db","firestore","votesListener","collection","where","pid","onSnapshot","snap","docs","forEach","doc","push","data","commentsCountListener","size","verboseDate","createdOn","toDate","toDateString","date","slice","length","content","lineOne","lineTwo","lineThree","lineFour","score","state","colorDict","coastColor","address","region","selectPost","customStyle","body","username","toLowerCase","paragraph"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react'\nimport './ManyPost.css'\nimport firebase from 'firebase'\nimport 'firebase/firestore'\n\n\n\nconst ManyPost = (props) => {\n\n    const [photoURL, setphotoURL] = useState('https://firebasestorage.googleapis.com/v0/b/barz-86ae0.appspot.com/o/mysteryman%2Fmysteryman.png?alt=media&token=7b1e5a7c-ede3-46ff-a036-70636e528cd2')\n    const [commentsCount, setCommentsCount] = useState(0)\n    const [votes, setVotes] = useState([])\n\n    useEffect(() => {\n            var db = firebase.firestore()\n            const votesListener = db.collection('postVotes').where('pid', '==', this.props.pid).onSnapshot(snap => {\n                var votes = []\n                snap.docs.forEach(doc => { votes.push(doc.data()) })\n                setVotes(votes)\n            })\n            const commentsCountListener = db.collection('postComments').where('pid', '==', this.props.pid).onSnapshot(snap => {\n                setCommentsCount(snap.size)\n            })\n        return () => {\n            votesListener()\n            commentsCountListener()\n\n        };\n    }, [commentsCount, votes]);\n\n\n\n\n    // date\n    var verboseDate = this.props.createdOn.toDate().toDateString()\n    const date = verboseDate.slice(4, verboseDate.length)\n\n    // content\n    var content = this.props.content.lineOne + ' / ' + this.props.content.lineTwo + ' / ' + this.props.content.lineThree + ' / ' + this.props.content.lineFour\n\n    // votes \n    var score = this.state.score\n\n    // dict {coast: color}\n    const colorDict = {\n        'West': 'yellow',\n        'East': 'greeen',\n        'South': 'blue',\n        'Midwest': 'purple',\n    }\n\n    const coastColor = colorDict[this.props.address.region]\n\n\n    return (\n\n        <div\n            className={`many-post scrollTo${this.props.pid}`}\n            id={`scrollTo${this.props.pid}`}\n            onClick={() => this.props.selectPost(this.props.pid)}\n            style={this.props.customStyle ? this.props.customStyle.body : null}\n        >\n            <header>\n                <div className='many-post-details' id={this.props.pid}>\n                    <img className='many-post-pic' src={this.props.photoURL} alt='pic'></img>\n                    <div className='many-post-name-date-container'>\n                        <h6 style={this.props.customStyle ? this.props.customStyle.username : null}>{this.props.username}</h6>\n                        <p>{date}</p>\n                    </div>\n                </div>\n                <div className='many-post-region' id={coastColor}>\n                    {this.props.address.region.toLowerCase()}\n                </div>\n                <div className='many-post-misc'>\n                    <i class=\"fas fa-comment\" id='manyComment'></i>\n                    {commentsCount}\n                    <i className=\"fas fa-fire\" id='manyFlame' aria-hidden=\"true\"></i>\n                    {score}\n                </div>\n            </header>\n            <div className='many-post-body'>\n                <p style={this.props.customStyle ? this.props.customStyle.paragraph : null}>{`\"${content}\"`}</p>\n            </div>\n\n            <div className='vote-box'>\n                <button className='vote-button dislike-button'>\n                    <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                </button>\n                <button className='vote-button like-button'>\n                    <i className=\"fas fa-fire\"></i>\n                </button>\n\n            </div>\n        </div>\n\n    )\n}\n\n\nexport default ManyPost\n"]},"metadata":{},"sourceType":"module"}