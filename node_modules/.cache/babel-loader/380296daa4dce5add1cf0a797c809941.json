{"ast":null,"code":"import _slicedToArray from \"/Users/davidkang/Desktop/local-barz/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/davidkang/Desktop/local-barz/src/containers/Hub/ProfileBox/ProfileBox.js\";\nimport React, { useEffect, useState } from 'react';\nimport './ProfileBox.css';\nimport PhotoContainer from '../Profile/PhotoContainer/PhotoContainer';\nimport firebase from 'firebase';\nimport { connect } from 'react-redux';\n\nfunction ProfileBox(props) {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        imgURL = _useState2[0],\n        setImgURL = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        showPhotoModal = _useState4[0],\n        setShowPhotoModal = _useState4[1]; // fetch imgURL if new photoRef is given\n\n\n  useEffect(() => {\n    if (props.photoRef) {\n      console.log(props.photoRef);\n      var storage = firebase.storage();\n      storage.ref(props.photoRef).getDownloadURL().then(url => {\n        setImgURL(url);\n      }).catch(function (error) {\n        console.log(\"error in Profile.js: \", error);\n      });\n      return () => {// cleanup\n      };\n    }\n  }, [props.photoRef]);\n  return React.createElement(\"div\", {\n    className: \"profile-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, showPhotoModal ? React.createElement(UploadImage, {\n    setShowPhotoModal: setShowPhotoModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }) : null, React.createElement(\"div\", {\n    className: \"profile-box__block-one\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(PhotoContainer, {\n    imgURL: imgURL,\n    setShowPhotoModal: props.setShowPhotoModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"profile-box__block-two\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"profile-box__block-three\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }));\n}\n\nconst mapStateToProps = state => {\n  return {\n    photoRef: state.photoRef\n  };\n};\n\nexport default connect(mapStateToProps, null)(ProfileBox);","map":{"version":3,"sources":["/Users/davidkang/Desktop/local-barz/src/containers/Hub/ProfileBox/ProfileBox.js"],"names":["React","useEffect","useState","PhotoContainer","firebase","connect","ProfileBox","props","imgURL","setImgURL","showPhotoModal","setShowPhotoModal","photoRef","console","log","storage","ref","getDownloadURL","then","url","catch","error","mapStateToProps","state"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,kBAAP;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA,oBAEKL,QAAQ,CAAC,EAAD,CAFb;AAAA;AAAA,QAEhBM,MAFgB;AAAA,QAERC,SAFQ;;AAAA,qBAGqBP,QAAQ,CAAC,KAAD,CAH7B;AAAA;AAAA,QAGhBQ,cAHgB;AAAA,QAGAC,iBAHA,kBAMvB;;;AACAV,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIM,KAAK,CAACK,QAAV,EAAoB;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACK,QAAlB;AACA,UAAIG,OAAO,GAAGX,QAAQ,CAACW,OAAT,EAAd;AACAA,MAAAA,OAAO,CAACC,GAAR,CAAYT,KAAK,CAACK,QAAlB,EAA4BK,cAA5B,GAA6CC,IAA7C,CAAkDC,GAAG,IAAI;AACrDV,QAAAA,SAAS,CAACU,GAAD,CAAT;AACH,OAFD,EAEGC,KAFH,CAES,UAAUC,KAAV,EAAiB;AAAER,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCO,KAArC;AAA6C,OAFzE;AAGA,aAAO,MAAM,CACT;AACH,OAFD;AAGH;AAEJ,GAZQ,EAYN,CAACd,KAAK,CAACK,QAAP,CAZM,CAAT;AAeA,SACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,cAAc,GAAG,oBAAC,WAAD;AAAa,IAAA,iBAAiB,EAAEC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAA0D,IAD7E,EAEI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,cAAD;AAAgB,IAAA,MAAM,EAAEH,MAAxB;AAAgC,IAAA,iBAAiB,EAAED,KAAK,CAACI,iBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,EAKI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CADJ;AAWH;;AACD,MAAMW,eAAe,GAAGC,KAAK,IAAI;AAC7B,SAAO;AACHX,IAAAA,QAAQ,EAAEW,KAAK,CAACX;AADb,GAAP;AAGH,CAJD;;AAMA,eAAeP,OAAO,CAACiB,eAAD,EAAkB,IAAlB,CAAP,CAA+BhB,UAA/B,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport './ProfileBox.css'\nimport PhotoContainer from '../Profile/PhotoContainer/PhotoContainer'\nimport firebase from 'firebase'\nimport { connect } from 'react-redux'\n\nfunction ProfileBox(props) {\n\n    const [imgURL, setImgURL] = useState('')\n    const [showPhotoModal, setShowPhotoModal] = useState(false)\n    \n\n    // fetch imgURL if new photoRef is given\n    useEffect(() => {\n        if (props.photoRef) {\n            console.log(props.photoRef)\n            var storage = firebase.storage();\n            storage.ref(props.photoRef).getDownloadURL().then(url => {\n                setImgURL(url)\n            }).catch(function (error) { console.log(\"error in Profile.js: \", error) });\n            return () => {\n                // cleanup\n            };\n        }\n\n    }, [props.photoRef])\n\n\n    return (\n        <div className='profile-box'>\n            {showPhotoModal ? <UploadImage setShowPhotoModal={setShowPhotoModal}/> : null}\n            <div className='profile-box__block-one'>\n                <PhotoContainer imgURL={imgURL} setShowPhotoModal={props.setShowPhotoModal}/>\n            </div>\n            <div className='profile-box__block-two'></div>\n            <div className='profile-box__block-three'></div>\n\n        </div>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        photoRef: state.photoRef,\n    }\n}\n\nexport default connect(mapStateToProps, null)(ProfileBox)\n"]},"metadata":{},"sourceType":"module"}