{"ast":null,"code":"import _slicedToArray from \"/Users/davidkang/Desktop/local-barz/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/davidkang/Desktop/local-barz/src/containers/Judge/JudgeBarz/ManyView/ManyPost/ManyPost.js\";\nimport React, { Component, useState, useEffect } from 'react';\nimport './ManyPost.css';\nimport firebase from 'firebase';\nimport 'firebase/firestore';\n\nconst ManyPost = props => {\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        commentsCount = _useState2[0],\n        setCommentsCount = _useState2[1];\n\n  const _useState3 = useState(0),\n        _useState4 = _slicedToArray(_useState3, 2),\n        myVote = _useState4[0],\n        setMyVote = _useState4[1];\n\n  useEffect(() => {\n    if (props.pid && props.votes && props.uid) {\n      var db = firebase.firestore();\n      const commentsCountListener = db.collection('postComments').where('pid', '==', props.pid).onSnapshot(snap => {\n        setCommentsCount(snap.size);\n      });\n      console.log(props.votes);\n      var myVote = props.votes.filter(vote => vote.voterID === props.uid);\n      myVote = myVote.length === 1 && myVote[0].value !== 0 ? myVote[0].value : 0;\n      setMyVote(myVote);\n      return () => {\n        commentsCountListener();\n      };\n    }\n  }, [props.pid, props.uid, props.votes]); // date\n\n  var verboseDate = props.createdOn.toDate().toDateString();\n  const date = verboseDate.slice(4, verboseDate.length); // content\n\n  var content = props.content.lineOne + ' / ' + props.content.lineTwo + ' / ' + props.content.lineThree + ' / ' + props.content.lineFour; // votes\n\n  var score = props.votes.filter(vote => {\n    return props.pid === vote.pid && vote.value === 1;\n  }); // dict {coast: color}\n\n  const colorDict = {\n    'West': 'yellow',\n    'East': 'greeen',\n    'South': 'blue',\n    'Midwest': 'purple'\n  };\n  const coastColor = colorDict[props.address.region];\n  return React.createElement(\"div\", {\n    className: \"many-post scrollTo\".concat(props.pid),\n    id: \"scrollTo\".concat(props.pid),\n    onClick: () => props.selectPost(props.pid),\n    style: props.customStyle ? props.customStyle.body : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"many-post-details\",\n    id: props.pid,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"many-post-pic\",\n    src: props.photoURL,\n    alt: \"pic\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"many-post-name-date-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"h6\", {\n    style: props.customStyle ? props.customStyle.username : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, props.username), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, date))), React.createElement(\"div\", {\n    className: \"many-post-region\",\n    id: coastColor,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, props.address.region.toLowerCase()), React.createElement(\"div\", {\n    className: \"many-post-misc\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    class: \"fas fa-comment\",\n    id: \"manyComment\",\n    style: myVote === 1 ? {\n      fontColor: 'orange'\n    } : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), commentsCount, React.createElement(\"i\", {\n    className: \"fas fa-fire\",\n    id: \"manyFlame\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), score.length)), React.createElement(\"div\", {\n    className: \"many-post-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: props.customStyle ? props.customStyle.paragraph : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"\\\"\".concat(content, \"\\\"\"))), React.createElement(\"div\", {\n    className: \"vote-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"vote-button dislike-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-trash\",\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"vote-button like-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-fire\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }))));\n};\n\nexport default ManyPost;","map":{"version":3,"sources":["/Users/davidkang/Desktop/local-barz/src/containers/Judge/JudgeBarz/ManyView/ManyPost/ManyPost.js"],"names":["React","Component","useState","useEffect","firebase","ManyPost","props","commentsCount","setCommentsCount","myVote","setMyVote","pid","votes","uid","db","firestore","commentsCountListener","collection","where","onSnapshot","snap","size","console","log","filter","vote","voterID","length","value","verboseDate","createdOn","toDate","toDateString","date","slice","content","lineOne","lineTwo","lineThree","lineFour","score","colorDict","coastColor","address","region","selectPost","customStyle","body","photoURL","username","toLowerCase","fontColor","paragraph"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react'\nimport './ManyPost.css'\nimport firebase from 'firebase'\nimport 'firebase/firestore'\n\n\n\nconst ManyPost = (props) => {\n\n    const [commentsCount, setCommentsCount] = useState(0)\n    const [myVote, setMyVote] = useState(0)\n\n\n    useEffect(() => {\n        if (props.pid && props.votes && props.uid) {\n            var db = firebase.firestore()\n            const commentsCountListener = db.collection('postComments').where('pid', '==', props.pid).onSnapshot(snap => {\n                setCommentsCount(snap.size)\n            })\n\n            console.log(props.votes)\n            var myVote = props.votes.filter(vote => vote.voterID === props.uid)\n            myVote = myVote.length === 1 && myVote[0].value !== 0 ? myVote[0].value : 0\n            setMyVote(myVote)\n            return () => {\n                commentsCountListener()\n            };\n        }\n\n        \n    }, [props.pid, props.uid, props.votes]);\n\n\n    // date\n    var verboseDate = props.createdOn.toDate().toDateString()\n    const date = verboseDate.slice(4, verboseDate.length)\n\n    // content\n    var content = props.content.lineOne + ' / ' + props.content.lineTwo + ' / ' + props.content.lineThree + ' / ' + props.content.lineFour\n\n    // votes\n    var score = props.votes.filter(vote => {\n        return props.pid === vote.pid && vote.value === 1\n    })\n\n    // dict {coast: color}\n    const colorDict = {\n        'West': 'yellow',\n        'East': 'greeen',\n        'South': 'blue',\n        'Midwest': 'purple',\n    }\n    const coastColor = colorDict[props.address.region]\n\n\n    return (\n\n        <div\n            className={`many-post scrollTo${props.pid}`}\n            id={`scrollTo${props.pid}`}\n            onClick={() => props.selectPost(props.pid)}\n            style={props.customStyle ? props.customStyle.body : null}\n        >\n            <header>\n                <div className='many-post-details' id={props.pid}>\n                    <img className='many-post-pic' src={props.photoURL} alt='pic'></img>\n                    <div className='many-post-name-date-container'>\n                        <h6 style={props.customStyle ? props.customStyle.username : null}>{props.username}</h6>\n                        <p>{date}</p>\n                    </div>\n                </div>\n                <div className='many-post-region' id={coastColor}>\n                    {props.address.region.toLowerCase()}\n                </div>\n                <div className='many-post-misc'>\n                    <i class=\"fas fa-comment\" id='manyComment' style={myVote === 1 ? {fontColor: 'orange'}: null}></i>\n                    {commentsCount}\n                    <i className=\"fas fa-fire\" id='manyFlame' aria-hidden=\"true\"></i>\n                    {score.length}\n                </div>\n            </header>\n            <div className='many-post-body'>\n                <p style={props.customStyle ? props.customStyle.paragraph : null}>{`\"${content}\"`}</p>\n            </div>\n\n            <div className='vote-box'>\n                <button className='vote-button dislike-button'>\n                    <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                </button>\n                <button className='vote-button like-button'>\n                    <i className=\"fas fa-fire\"></i>\n                </button>\n\n            </div>\n        </div>\n\n    )\n}\n\n\nexport default ManyPost\n"]},"metadata":{},"sourceType":"module"}